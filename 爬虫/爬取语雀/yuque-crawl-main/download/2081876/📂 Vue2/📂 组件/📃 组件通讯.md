<a name="wmrM8"></a>
## ä¸€ã€é€šè¿‡ `$parent`Â å’Œ `$root`Â è·å–çˆ¶/æ ¹ç»„ä»¶å®ä¾‹
åœ¨å­ç»„ä»¶ä¸­ï¼Œæƒ³è¦è·å–åˆ°çˆ¶ç»„ä»¶ã€æ ¹ç»„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ `$parent` å’Œ `$root`Â è·å–ã€‚

æ¯”å¦‚åœ¨çˆ¶ç»„ä»¶ä¸­æœ‰å¦‚ä¸‹æ•°æ®ï¼š
```javascript
import ChildView from '../components-test/ChildView.vue'
export default {
  components: {
    ChildView
  },
  data() {
    return {
      msg: 'Hello'
    }
  },
  methods: {
    log() {
      console.log("Hello world")
    }
  }
}
```
åœ¨ `ChildView`Â ä¸­è·å–ï¼š
```vue
<template lang="pug">
div {{$parent.msg}}
</template>

<script>
export default {
  created() {
    this.$parent.log()
  }
}
</script>
```
çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®ä¹Ÿæ˜¯ `å¯è¯»å†™çš„` ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å…¶å€¼ï¼š
```vue
<template lang="pug">
div {{$parent..msg}}
button(@click="changeMsg") ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®
</template>

<script>
export default {
  inject: ['log'],
  created() {
    this.$parent.log()
  },
  methods: {
    changeMsg() {
      this.$parent.msg = "I'm a child"
    }
  }
}
</script>
```
![GIF.gif](https://cdn.nlark.com/yuque/0/2020/gif/2213540/1607420751804-7c616d67-a1f6-4ac1-90da-ca2afbdb8633.gif#align=left&display=inline&height=116&originHeight=116&originWidth=203&size=6043&status=done&style=none&width=203)

---

è€Œæ‰€è°“çš„`æ ¹ç»„ä»¶`ï¼Œå…¶å®å°±æ˜¯åœ¨åˆ›å»ºVueå®ä¾‹æ—¶åˆ›å»ºçš„é‚£ä¸€å †æ•°æ®ï¼š
```javascript
new Vue({
  data: {
    foo: 1
  },
  computed: {
    bar: function () { /* ... */ }
  },
  methods: {
    baz: function () { /* ... */ }
  }
})
```
åœ¨ä»»ä½•å­å­™ç»„ä»¶ä¸­éƒ½å¯è®¿é—®ï¼š
```javascript
// è·å–æ ¹ç»„ä»¶çš„æ•°æ®
this.$root.foo

// å†™å…¥æ ¹ç»„ä»¶çš„æ•°æ®
this.$root.foo = 2

// è®¿é—®æ ¹ç»„ä»¶çš„è®¡ç®—å±æ€§
this.$root.bar

// è°ƒç”¨æ ¹ç»„ä»¶çš„æ–¹æ³•
this.$root.baz()
```

å¯ä»¥å½’çº³å¦‚ä¸‹ï¼š

- `this`Â ä»£è¡¨å½“å‰ç»„ä»¶çš„å®ä¾‹
- `this.$parent`Â ä»£è¡¨çˆ¶ç»„ä»¶çš„å®ä¾‹
- `this.$root`Â ä»£è¡¨æ ¹ç»„ä»¶çš„å®ä¾‹

<a name="CbDTP"></a>
## äºŒã€é€šè¿‡ `$refs`Â è·å–å­ç»„ä»¶å®ä¾‹
å°½ç®¡å­˜åœ¨ prop å’Œäº‹ä»¶ï¼Œæœ‰çš„æ—¶å€™ä½ ä»å¯èƒ½éœ€è¦åœ¨ JavaScript é‡Œç›´æ¥è®¿é—®ä¸€ä¸ªå­ç»„ä»¶ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œä½ å¯ä»¥é€šè¿‡ `ref` è¿™ä¸ª attribute ä¸ºå­ç»„ä»¶èµ‹äºˆä¸€ä¸ª ID å¼•ç”¨ã€‚ä¾‹å¦‚ï¼š
```html
<base-input ref="usernameInput"></base-input>
```
ç°åœ¨åœ¨ä½ å·²ç»å®šä¹‰äº†è¿™ä¸ª `ref` çš„ç»„ä»¶é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨ï¼š
```javascript
this.$refs.usernameInput
```
æ¥è®¿é—®è¿™ä¸ª `<base-input>` å®ä¾‹ï¼Œä»¥ä¾¿ä¸æ—¶ä¹‹éœ€ã€‚æ¯”å¦‚ç¨‹åºåŒ–åœ°ä»ä¸€ä¸ªçˆ¶çº§ç»„ä»¶èšç„¦è¿™ä¸ªè¾“å…¥æ¡†ã€‚

åœ¨åˆšæ‰é‚£ä¸ªä¾‹å­ä¸­ï¼Œè¯¥ `<base-input>` ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç±»ä¼¼çš„ `ref` æä¾›å¯¹å†…éƒ¨è¿™ä¸ªæŒ‡å®šå…ƒç´ çš„è®¿é—®ï¼Œä¾‹å¦‚ï¼š
```html
<input ref="input">
```

ç”šè‡³å¯ä»¥é€šè¿‡å…¶çˆ¶çº§ç»„ä»¶å®šä¹‰æ–¹æ³•ï¼š
```javascript
methods: {
  // ç”¨æ¥ä»çˆ¶çº§ç»„ä»¶èšç„¦è¾“å…¥æ¡†
  focus: function () {
    this.$refs.input.focus()
  }
}
```

è¿™æ ·å°±å…è®¸çˆ¶çº§ç»„ä»¶é€šè¿‡ä¸‹é¢çš„ä»£ç èšç„¦ `<base-input>` é‡Œçš„è¾“å…¥æ¡†ï¼š
```javascript
this.$refs.usernameInput.focus()
```

<a name="1cLvU"></a>
### åœ¨å¾ªç¯ä¸­ä½¿ç”¨ref
å½“ `ref` å’Œ `v-for` ä¸€èµ·ä½¿ç”¨çš„æ—¶å€™ï¼Œä½ å¾—åˆ°çš„ ref å°†ä¼šæ˜¯ä¸€ä¸ªåŒ…å«äº†å¯¹åº”æ•°æ®æºçš„è¿™äº›å­ç»„ä»¶çš„æ•°ç»„ã€‚

çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š
```vue
<template>
<ul>
  <li v-for="(item, key) in 10" :key="key" ref="li">{{item}}</li>
</ul>
</template>

<script>
export default {
  mounted() {
    console.log(this.$refs.li)
  },
}
</script>
```
æ‰“å°å‡ºçš„ç»“æœä¸ºï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/2213540/1607497441490-764dcf08-8e2e-4398-a5f9-3e2c43f971d0.png#align=left&display=inline&height=214&originHeight=214&originWidth=361&size=6636&status=done&style=none&width=361)<br />å› æ­¤ï¼Œè¦å–å‡ºå…¶ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œéœ€è¦ä½¿ç”¨ç›¸åº”çš„ä¸‹æ ‡ï¼š
```javascript
this.$refs.li[0].innerText
```

ä¸Šé¢çš„ç¨‹åºçœ‹åˆ°æˆ‘æ˜¯åœ¨ `mounted`Â ä¸­å–å‡º `$refs`Â çš„ï¼Œå› ä¸º`$refs` åªä¼šåœ¨ç»„ä»¶æ¸²æŸ“å®Œæˆä¹‹åç”Ÿæ•ˆï¼Œå¹¶ä¸”å®ƒä»¬ä¸æ˜¯å“åº”å¼çš„ã€‚æ‰€ä»¥åº”è¯¥é¿å…åœ¨æ¨¡æ¿æˆ–è®¡ç®—å±æ€§ä¸­è®¿é—® `$refs`ã€‚

<a name="lCVoo"></a>
## ä¸‰ã€é€šè¿‡ `prop`Â å‘å­ç»„ä»¶ä¼ å€¼
ç»„ä»¶å®ä¾‹çš„ä½œç”¨åŸŸæ˜¯**å­¤ç«‹çš„**ã€‚è¿™æ„å‘³ç€ä¸èƒ½ (ä¹Ÿä¸åº”è¯¥) åœ¨å­ç»„ä»¶çš„æ¨¡æ¿å†…ç›´æ¥å¼•ç”¨çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚çˆ¶ç»„ä»¶çš„æ•°æ®éœ€è¦é€šè¿‡ **prop** æ‰èƒ½ä¸‹å‘åˆ°å­ç»„ä»¶ä¸­ã€‚

å­ç»„ä»¶è¦æ˜¾å¼åœ°ç”¨ [`props` é€‰é¡¹](https://cn.vuejs.org/v2/api/#props)å£°æ˜å®ƒé¢„æœŸçš„æ•°æ®ï¼š
```javascript
Vue.component('child', {
  // å£°æ˜ props
  props: ['message'],
  // å°±åƒ data ä¸€æ ·ï¼Œprop ä¹Ÿå¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
  // åŒæ ·ä¹Ÿå¯ä»¥åœ¨ vm å®ä¾‹ä¸­é€šè¿‡ this.message æ¥ä½¿ç”¨
  template: '<span>{{ message }}</span>'
})
```

ç„¶åæˆ‘ä»¬å¯ä»¥è¿™æ ·å‘å®ƒä¼ å…¥ä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²ï¼š
```html
<child message="hello!"></child>
```

<a name="o4ki2"></a>
### å‘½åæ–¹å¼
HTML ç‰¹æ€§æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚æ‰€ä»¥ï¼Œå½“ä½¿ç”¨çš„ä¸æ˜¯å­—ç¬¦ä¸²æ¨¡æ¿æ—¶ï¼Œ`camelCase `(é©¼å³°å¼å‘½å) çš„ prop éœ€è¦è½¬æ¢ä¸ºç›¸å¯¹åº”çš„ `kebab-case` (çŸ­æ¨ªçº¿åˆ†éš”å¼å‘½å)ï¼š
```javascript
Vue.component('child', {
  // åœ¨ JavaScript ä¸­ä½¿ç”¨ camelCase
  props: ['myMessage'],
  template: '<span>{{ myMessage }}</span>'
})
```

```html
<!-- åœ¨ HTML ä¸­ä½¿ç”¨ kebab-case -->
<child my-message="hello!"></child>
```

å¦‚æœä½ ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿ï¼Œåˆ™æ²¡æœ‰è¿™äº›é™åˆ¶ã€‚

<a name="798um"></a>
### åŠ¨æ€å±æ€§
ä¸ç»‘å®šåˆ°ä»»ä½•æ™®é€šçš„ HTML ç‰¹æ€§ç›¸ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ `v-bind` æ¥åŠ¨æ€åœ°å°† prop ç»‘å®šåˆ°çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚æ¯å½“çˆ¶ç»„ä»¶çš„æ•°æ®å˜åŒ–æ—¶ï¼Œè¯¥å˜åŒ–ä¹Ÿä¼šä¼ å¯¼ç»™å­ç»„ä»¶ï¼š
```html
<div>
  <input v-model="parentMsg">
  <br>
  <child v-bind:my-message="parentMsg"></child>
</div>
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `v-bind` çš„ç¼©å†™è¯­æ³•ï¼š
```html
<child :my-message="parentMsg"></child>
```

å¦‚æœä½ æƒ³æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä½œä¸º prop è¿›è¡Œä¼ é€’ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„ `v-bind`(å³ç”¨ `v-bind` è€Œä¸æ˜¯ `v-bind:prop-name`)ã€‚ä¾‹å¦‚ï¼Œå·²çŸ¥ä¸€ä¸ª `todo` å¯¹è±¡ï¼š
```javascript
todo: {
  text: 'Learn Vue',
  isComplete: false
}
```

ç„¶åï¼š
```html
<todo-item v-bind="todo"></todo-item>
```

å°†ç­‰ä»·äºï¼š
```html
<todo-item :text="todo.text" :is-complete="todo.isComplete"></todo-item>
```

<a name="afIbq"></a>
### å­—é¢é‡è¯­æ³• vs åŠ¨æ€è¯­æ³•
åˆå­¦è€…å¸¸çŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯ä½¿ç”¨å­—é¢é‡è¯­æ³•ä¼ é€’æ•°å€¼ï¼š
```html
<!-- ä¼ é€’äº†ä¸€ä¸ªå­—ç¬¦ä¸² "1" -->
<comp some-prop="1"></comp>
```

å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå­—é¢é‡ propï¼Œå®ƒçš„å€¼æ˜¯å­—ç¬¦ä¸² `"1"` è€Œä¸æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚å¦‚æœæƒ³ä¼ é€’ä¸€ä¸ªçœŸæ­£çš„ JavaScript æ•°å€¼ï¼Œåˆ™éœ€è¦ä½¿ç”¨ `v-bind`ï¼Œä»è€Œè®©å®ƒçš„å€¼è¢«å½“ä½œ JavaScript è¡¨è¾¾å¼è®¡ç®—ï¼š
```html
<!-- ä¼ é€’çœŸæ­£çš„æ•°å€¼ -->
<comp :some-prop="1"></comp>
```

<a name="B9RX3"></a>
### å•å‘æ•°æ®æµ
Prop æ˜¯å•å‘ç»‘å®šçš„ï¼š**å½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯åè¿‡æ¥ä¸ä¼šã€‚**è¿™æ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„é—´ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œæ¥é¿å…åº”ç”¨çš„æ•°æ®æµå˜å¾—éš¾ä»¥ç†è§£ã€‚

å¦å¤–ï¼Œæ¯æ¬¡çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶çš„æ‰€æœ‰ prop éƒ½ä¼šæ›´æ–°ä¸ºæœ€æ–°å€¼ã€‚è¿™æ„å‘³ç€ä½ **ä¸åº”è¯¥**åœ¨å­ç»„ä»¶å†…éƒ¨æ”¹å˜ propã€‚å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼ŒVue ä¼šåœ¨æ§åˆ¶å°ç»™å‡ºè­¦å‘Šã€‚

åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¿ä¸ä½æƒ³å»ä¿®æ”¹ prop ä¸­æ•°æ®ï¼š

1. Prop ä½œä¸ºåˆå§‹å€¼ä¼ å…¥åï¼Œå­ç»„ä»¶æƒ³æŠŠå®ƒå½“ä½œå±€éƒ¨æ•°æ®æ¥ç”¨ï¼›
2. Prop ä½œä¸ºåŸå§‹æ•°æ®ä¼ å…¥ï¼Œç”±å­ç»„ä»¶å¤„ç†æˆå…¶å®ƒæ•°æ®è¾“å‡ºã€‚

å¯¹è¿™ä¸¤ç§æƒ…å†µï¼Œæ­£ç¡®çš„åº”å¯¹æ–¹å¼æ˜¯ï¼š

1. å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå¹¶ç”¨ prop çš„å€¼åˆå§‹åŒ–å®ƒï¼š
```javascript
props: ['initialCounter'],
data: function () {
  return { counter: this.initialCounter }
}
```

2. å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œå¤„ç† prop çš„å€¼å¹¶è¿”å›ï¼š
```javascript
props: ['size'],
computed: {
  normalizedSize: function () {
    return this.size.trim().toLowerCase()
  }
}
```

æ³¨æ„åœ¨ JavaScript ä¸­å¯¹è±¡å’Œæ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœ prop æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„ï¼Œåœ¨å­ç»„ä»¶å†…éƒ¨æ”¹å˜å®ƒ**ä¼šå½±å“**çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚

<a name="FxsWK"></a>
### å±æ€§éªŒè¯
æˆ‘ä»¬å¯ä»¥ä¸ºç»„ä»¶çš„ prop æŒ‡å®šéªŒè¯è§„åˆ™ã€‚å¦‚æœä¼ å…¥çš„æ•°æ®ä¸ç¬¦åˆè¦æ±‚ï¼ŒVue ä¼šå‘å‡ºè­¦å‘Šã€‚è¿™å¯¹äºå¼€å‘ç»™ä»–äººä½¿ç”¨çš„ç»„ä»¶éå¸¸æœ‰ç”¨ã€‚

è¦æŒ‡å®šéªŒè¯è§„åˆ™ï¼Œéœ€è¦ç”¨å¯¹è±¡çš„å½¢å¼æ¥å®šä¹‰ propï¼Œè€Œä¸èƒ½ç”¨å­—ç¬¦ä¸²æ•°ç»„ï¼š
```javascript
Vue.component('example', {
  props: {
    // åŸºç¡€ç±»å‹æ£€æµ‹ (`null` æŒ‡å…è®¸ä»»ä½•ç±»å‹)
    propA: Number,
    // å¯èƒ½æ˜¯å¤šç§ç±»å‹
    propB: [String, Number],
    // å¿…ä¼ ä¸”æ˜¯å­—ç¬¦ä¸²
    propC: {
      type: String,
      required: true
    },
    // æ•°å€¼ä¸”æœ‰é»˜è®¤å€¼
    propD: {
      type: Number,
      default: 100
    },
    // æ•°ç»„/å¯¹è±¡çš„é»˜è®¤å€¼åº”å½“ç”±ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›
    propE: {
      type: Object,
      default: function () {
        return { message: 'hello' }
      }
    },
    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°
    propF: {
      validator: function (value) {
        return value > 10
      }
    }
  }
})
```

`type` å¯ä»¥æ˜¯ä¸‹é¢åŸç”Ÿæ„é€ å™¨ï¼š

- String
- Number
- Boolean
- Function
- Object
- Array
- Symbol

`type` ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ„é€ å™¨å‡½æ•°ï¼Œä½¿ç”¨ `instanceof` æ£€æµ‹ã€‚

:::warning
å½“ prop éªŒè¯å¤±è´¥ï¼ŒVue ä¼šæŠ›å‡ºè­¦å‘Š (å¦‚æœä½¿ç”¨çš„æ˜¯å¼€å‘ç‰ˆæœ¬)ã€‚æ³¨æ„ prop ä¼šåœ¨ç»„ä»¶å®ä¾‹åˆ›å»º**ä¹‹å‰**è¿›è¡Œæ ¡éªŒï¼Œæ‰€ä»¥åœ¨ `default` æˆ– `validator` å‡½æ•°é‡Œï¼Œè¯¸å¦‚ `data`ã€`computed` æˆ– `methods` ç­‰å®ä¾‹å±æ€§è¿˜æ— æ³•ä½¿ç”¨ã€‚
:::

<a name="sx4tH"></a>
## å››ã€é€šè¿‡ `emit`Â å‘çˆ¶ç»„ä»¶ä¼ å€¼
çˆ¶ç»„ä»¶ä½¿ç”¨ prop ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶ã€‚ä½†å­ç»„ä»¶æ€ä¹ˆè·Ÿçˆ¶ç»„ä»¶é€šä¿¡å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ Vue çš„è‡ªå®šä¹‰äº‹ä»¶ç³»ç»Ÿå°±æ´¾å¾—ä¸Šç”¨åœºäº†ã€‚

æ¯ä¸ª Vue å®ä¾‹éƒ½å®ç°äº†äº‹ä»¶æ¥å£ï¼Œå³ï¼š

- ä½¿ç”¨ `$on(eventName)` ç›‘å¬äº‹ä»¶
- ä½¿ç”¨ `$emit(eventName)` è§¦å‘äº‹ä»¶

<a name="l8wW6"></a>
### ä½¿ç”¨ `v-on` ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶
> Vue çš„äº‹ä»¶ç³»ç»Ÿä¸æµè§ˆå™¨çš„ [EventTarget API](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget) æœ‰æ‰€ä¸åŒã€‚å°½ç®¡å®ƒä»¬çš„è¿è¡Œèµ·æ¥ç±»ä¼¼ï¼Œä½†æ˜¯ `$on` å’Œ `$emit` **å¹¶ä¸æ˜¯**`addEventListener` å’Œ `dispatchEvent` çš„åˆ«åã€‚


å¦å¤–ï¼Œçˆ¶ç»„ä»¶å¯ä»¥åœ¨ä½¿ç”¨å­ç»„ä»¶çš„åœ°æ–¹ç›´æ¥ç”¨ `v-on` æ¥ç›‘å¬å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ã€‚

çˆ¶ç»„ä»¶ï¼š
```html
<div id="counter-event-example">
  <p>{{ total }}</p>
  <button-counter v-on:increment="incrementTotal"></button-counter>
  <button-counter v-on:increment="incrementTotal"></button-counter>
</div>
```

```javascript
new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal: function () {
      this.total += 1
    }
  }
})
```

å­ç»„ä»¶ï¼š
```javascript
Vue.component('button-counter', {
  template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    incrementCounter: function () {
      this.counter += 1
      this.$emit('increment')
    }
  }
})
```

ä¸Šä¾‹ä¸­ï¼Œå­ç»„ä»¶ä½¿ç”¨ emit å‘çˆ¶ç»„ä»¶ä¼ é€’ä¸€ä¸ª increment çš„äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶åªéœ€ç›‘å¬ increment å³å¯ï¼Œä½¿ç”¨ v-on:increment æˆ– [@increment ](/increment ) ã€‚ 

<a name="dfeJq"></a>
### `emit` ä¼ å€¼
å­ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ emit é™„å¸¦æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚

å­ç»„ä»¶ï¼š
```javascript
Vue.component('counter', {
  template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    incrementCounter: function () {
      this.counter += 1
      this.$emit('increment', this.counter)
    }
  }
})
```

çˆ¶ç»„ä»¶ï¼š
```html
<div id="counter-event-example">
  <p>{{ total }}</p>
  <counter @increment="incrementTotal"></counter>
</div>
```

```javascript
new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal (counter) {
      this.total = counter
    }
  }
})
```

ä¸Šä¾‹ä¸­ï¼Œå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’ä¸€ä¸ª increment äº‹ä»¶ï¼Œå¹¶é™„å¸¦æ•°æ® ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ç›¸åº”çš„äº‹ä»¶ç›‘å¬æ–¹æ³•ä¸­å¯ä»¥æ•æ‰åˆ°ä¼ é€’çš„æ•°æ®ã€‚

<a name="YC14F"></a>
### ğŸ’¦ å‘è‡ªå®šä¹‰äº‹ä»¶ä¸­ä¼ å…¥é¢å¤–å‚æ•°
æœ‰çš„æ—¶å€™ï¼Œåœ¨æŸäº›è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œé€šè¿‡ `$emit` æœ¬èº«å°±æš´éœ²å‡ºä¸€äº›å‚æ•°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»çˆ¶ç»„ä»¶ä¸­ä¼ é€’å…¶ä»–å‚æ•°ï¼Œä½†æ˜¯å¦‚æœç›´æ¥å†™åˆ°æ–¹æ³•çš„å‚æ•°ä¸­ä¼šè¦†ç›–æœ¬èº«çš„ `$emit` è¿”å›çš„å‚æ•°ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨å¤–é¢åŒ…è£¹ä¸€å±‚ç®­å¤´å‡½æ•°ï¼Œåœ¨ç®­å¤´å‡½æ•°ä½“ä¸­è°ƒç”¨æ–¹æ³•å¹¶ä¼ é€’é¢å¤–çš„å‚æ•°ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸­é€šè¿‡ `$emit` è¿”å›äº†ä¸€äº›æ•°æ®ï¼š
```vue
<template lang="pug">
ul
  li(v-for="(item, index, key) in list" :key="key" @click="clickItem(item, index)")
    .name {{item.name}}
</template>

<script>
export default {
  props: {
    list: Array
  },
  methods: {
    clickItem(item, index) {
      this.$emit('click', item, index)
    }
  }
}
</script>
```
å¦‚æœåœ¨çˆ¶ç»„ä»¶ä¸­ç›´æ¥ä¼ å…¥å‚æ•°ï¼Œåˆ™ä¼šè¦†ç›–æ‰ä» `$emit` ä¸­è¿”å›çš„å€¼ï¼š
```vue
<template lang="pug">
div
  TestView(@click="clickItem('hello')" :list="list")
</template>

<script>
import TestView from "./components/TestView.vue";

export default {
  components: {
    TestView
  },
  data() {
    return {
      list: [{
        name: 'item1'
      }, {
        name: 'item2'
      }]
    }
  },
  methods: {
    clickItem(item, index, data) {
      console.log(item, index, data) // hello undefined undefined
    }
  }
}
</script>
```

å¦‚æœä½¿ç”¨äº‹ä»¶å¯¹è±¡ `$event` ï¼Œåˆ™åªèƒ½å¤Ÿè·å–åˆ°ä» `$emit` ä¼ å‡ºçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼š
```vue

<template lang="pug">
div
  TestView(@click="clickItem($event, 'hello')" :list="list")
</template>
```
ç‚¹å‡»åˆ—è¡¨é¡¹åå°†æ‰“å°å‡ºï¼š
```vue
{...} "hello" undefined
```

æ”¹å†™ä¸ºä»¥ä¸‹å†™æ³•å³å¯ï¼š
```vue
<template lang="pug">
div
  TestView(@click="(item, index) => {clickItem(item, index, 'hello')}" :list="list")
</template>
```
ç‚¹å‡»åˆ—è¡¨é¡¹åå°†æ‰“å°å‡ºï¼š
```vue
{...} 0 "hello"
```

<a name="VWLDj"></a>
### ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶
æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½æƒ³åœ¨æŸä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶ã€‚å¯ä»¥ä½¿ç”¨ `v-on` çš„ä¿®é¥°ç¬¦ `.native`ã€‚ä¾‹å¦‚ï¼š
```html
<my-component @click.native="doTheThing"></my-component>
```

<a name="47101812"></a>
### æ€»çº¿é€šä¿¡
æœ‰æ—¶å€™ï¼Œéçˆ¶å­å…³ç³»çš„ä¸¤ä¸ªç»„ä»¶ä¹‹é—´ä¹Ÿéœ€è¦é€šä¿¡ã€‚åœ¨ç®€å•çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ä½œä¸ºäº‹ä»¶æ€»çº¿ï¼š
```javascript
let bus = new Vue()

// è§¦å‘ç»„ä»¶ A ä¸­çš„äº‹ä»¶
bus.$emit('id-selected', 1)

// åœ¨ç»„ä»¶ B åˆ›å»ºçš„é’©å­ä¸­ç›‘å¬äº‹ä»¶
bus.$on('id-selected', function (id) {
  // ...
})
```

åœ¨å¤æ‚çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥è€ƒè™‘ä½¿ç”¨ä¸“é—¨çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚

<a name="LerDK"></a>
## äº”ã€ç»„ä»¶æ•°æ®åŒå‘ç»‘å®šï¼ˆ`.sync` ä¿®é¥°ç¬¦ï¼‰
åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å¯¹ä¸€ä¸ª prop è¿›è¡Œâ€œåŒå‘ç»‘å®šâ€ã€‚äº‹å®ä¸Šï¼Œè¿™æ­£æ˜¯ Vue 1.x ä¸­çš„ `.sync` ä¿®é¥°ç¬¦æ‰€æä¾›çš„åŠŸèƒ½ã€‚å½“ä¸€ä¸ªå­ç»„ä»¶æ”¹å˜äº†ä¸€ä¸ªå¸¦ `.sync` çš„ prop çš„å€¼æ—¶ï¼Œè¿™ä¸ªå˜åŒ–ä¹Ÿä¼šåŒæ­¥åˆ°çˆ¶ç»„ä»¶ä¸­æ‰€ç»‘å®šçš„å€¼ã€‚è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿä¼šå¯¼è‡´é—®é¢˜ï¼Œå› ä¸ºå®ƒç ´åäº†å•å‘æ•°æ®æµã€‚ç”±äºå­ç»„ä»¶æ”¹å˜ prop çš„ä»£ç å’Œæ™®é€šçš„çŠ¶æ€æ”¹åŠ¨ä»£ç æ¯«æ— åŒºåˆ«ï¼Œå½“å…‰çœ‹å­ç»„ä»¶çš„ä»£ç æ—¶ï¼Œä½ å®Œå…¨ä¸çŸ¥é“å®ƒä½•æ—¶æ‚„æ‚„åœ°æ”¹å˜äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚è¿™åœ¨ debug å¤æ‚ç»“æ„çš„åº”ç”¨æ—¶ä¼šå¸¦æ¥å¾ˆé«˜çš„ç»´æŠ¤æˆæœ¬ã€‚

ä» Vue 2.3.0 èµ·é‡æ–°å¼•å…¥äº† `.sync` ä¿®é¥°ç¬¦ï¼Œä½†æ˜¯è¿™æ¬¡å®ƒåªæ˜¯ä½œä¸ºä¸€ä¸ªç¼–è¯‘æ—¶çš„è¯­æ³•ç³–å­˜åœ¨ã€‚å®ƒä¼šè¢«æ‰©å±•ä¸ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°çˆ¶ç»„ä»¶å±æ€§çš„ `v-on` ç›‘å¬å™¨ã€‚

å¦‚ä¸‹ä»£ç ï¼š
```html
<comp :foo.sync="bar"></comp>
```

ä¼šè¢«æ‰©å±•ä¸ºï¼š
```html
<comp :foo="bar" @update:foo="val => bar = val"></comp>
```

å½“å­ç»„ä»¶éœ€è¦æ›´æ–° `foo` çš„å€¼æ—¶ï¼Œå®ƒéœ€è¦æ˜¾å¼åœ°è§¦å‘ä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼š
```javascript
this.$emit('update:foo', newValue)
```

ç›¸å½“äºåœ¨å­ç»„ä»¶ä¸­æ›´æ”¹äº†æ¥è‡ªçˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ï¼Œå†é€šè¿‡ emit å°†æ”¹å˜çš„å€¼åé¦ˆç»™çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶æ‹¿åˆ°æ›´æ”¹åçš„å€¼åï¼Œå†å°†ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼æ›´æ–°ã€‚

---

ä¸¾ä¸ªä¾‹å­ï¼š<br />çˆ¶ç»„ä»¶ï¼š
```vue
<template>
  <div id="app">
    <HelloWorld :msg.sync='msg'/>
  </div>
</template>

<script>
import HelloWorld from './components/HelloWorld.vue'

export default {
  components: {
    HelloWorld
  },
  data() {
    return {
      msg: 'Hello'
    }
  },
}
</script>
```
å­ç»„ä»¶ï¼š
```vue
<template>
  <div class="hello">
    <h1>{{ msg }}</h1>
    <button @click="modifyMsg">ä¿®æ”¹msg</button>
  </div>
</template>

<script>
export default {
  props: {
    msg: String
  },
  methods: {
    modifyMsg() {
      this.$emit('update:msg', 'Got msg')
    }
  }
}
</script>
```

æ•ˆæœå¦‚ä¸‹ï¼š<br />![GIF.gif](https://cdn.nlark.com/yuque/0/2020/gif/2213540/1607481206980-6f951b58-81bf-40b8-adb0-3cf1ec97b72a.gif#align=left&display=inline&height=119&originHeight=119&originWidth=203&size=6553&status=done&style=none&width=203)

<a name="0649556f"></a>
## å…­ã€é€šè¿‡ `v-model`Â å®ç°è¡¨å•ç»„ä»¶åŒå‘æ•°æ®ä¼ é€’
<a name="ij4mV"></a>
### åŒæ­¥å­ç»„ä»¶çš„è¡¨å•è¾“å…¥
ç”±äºä¸‹é¢è¿™ç§å†™æ³•
```html
<input v-model="something">
```
è¿™ä¸è¿‡æ˜¯ä»¥ä¸‹ç¤ºä¾‹çš„è¯­æ³•ç³–ï¼š
```html
<input
  v-bind:value="something"
  v-on:input="something = $event.target.value">
```

æ‰€ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ï¼Œå®ƒç›¸å½“äºä¸‹é¢çš„ç®€å†™ï¼š
```html
<custom-input
  v-bind:value="something"
  v-on:input="something = arguments[0]">
</custom-input>
```

æ‰€ä»¥è¦è®©ç»„ä»¶çš„ `v-model` ç”Ÿæ•ˆï¼Œå®ƒåº”è¯¥ (ä» 2.2.0 èµ·æ˜¯å¯é…ç½®çš„)ï¼š

- æ¥å—ä¸€ä¸ª `value` çš„ prop
- åœ¨æœ‰æ–°çš„å€¼æ—¶è§¦å‘ `input` äº‹ä»¶å¹¶å°†æ–°å€¼ä½œä¸ºå‚æ•°

---

ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªéå¸¸ç®€å•çš„è´§å¸è¾“å…¥çš„è‡ªå®šä¹‰æ§ä»¶ã€‚<br />çˆ¶ç»„ä»¶ï¼š
```vue
<template>
<div id="app">
  <div>${{price}}</div>
  <currency-input v-model="price"></currency-input>
</div>
</template>

<script>
import CurrencyInput from './components/CurrencyInput.vue'

export default {
  components: {
    CurrencyInput
  },
  data() {
    return {
      price: 10
    }
  }
}
</script>
```

å­ç»„ä»¶ï¼š
```vue
<template>
<span>
  <input
    ref="input"
    :value="value"
    @input="updateValue($event.target.value)"
  >
</span>
</template>

<script>
export default {
  props: ['value'], // æ˜¾å¼æ¥æ”¶ä¸€ä¸ª value çš„ prop
  methods: {
    // ä¸ç›´æ¥æ›´æ–°å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨æ­¤æ–¹æ³•æ¥å¯¹è¾“å…¥å€¼è¿›è¡Œæ ¼å¼åŒ–å’Œä½æ•°é™åˆ¶
    updateValue: function (value) {
      let len = value.indexOf('.') === -1 ? value.length : value.indexOf('.') + 3
      let formattedValue = value.trim().slice(0, len)
      // å¦‚æœå€¼å°šä¸åˆè§„ï¼Œåˆ™æ‰‹åŠ¨è¦†ç›–ä¸ºåˆè§„çš„å€¼
      if (formattedValue !== value) {
        this.$refs.input.value = formattedValue
      }
      // é€šè¿‡ input äº‹ä»¶å¸¦å‡ºæ•°å€¼
      this.$emit('input', Number(formattedValue))
    }
  }
}
</script>
```

æ•ˆæœå¦‚ä¸‹ï¼š<br />![GIF.gif](https://cdn.nlark.com/yuque/0/2020/gif/2213540/1607482941687-34b59237-be22-4495-9ba7-b1080182617e.gif#align=left&display=inline&height=59&originHeight=59&originWidth=203&size=1897&status=done&style=none&width=203)

<a name="b2FSn"></a>
### è‡ªå®šä¹‰ç»„ä»¶çš„ `v-model`
é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶çš„ `v-model` ä¼šä½¿ç”¨ `value å±æ€§` å’Œ `input äº‹ä»¶`ã€‚ä½†æ˜¯è¯¸å¦‚å•é€‰æ¡†ã€å¤é€‰æ¡†ä¹‹ç±»çš„è¾“å…¥ç±»å‹å¯èƒ½æŠŠ `value` ç”¨ä½œäº†åˆ«çš„ç›®çš„ã€‚`model` é€‰é¡¹ (ä» 2.2.0 èµ·)å¯ä»¥é¿å…è¿™æ ·çš„å†²çªï¼š

```javascript
Vue.component('my-checkbox', {
  model: {
    prop: 'checked',
    event: 'change'
  },
  props: {
    checked: Boolean,
    // è¿™æ ·å°±å…è®¸æ‹¿ `value` è¿™ä¸ª prop åšå…¶å®ƒäº‹äº†
    value: String
  },
  // ...
})
```

```html
<my-checkbox v-model="foo" value="some value"></my-checkbox>
```

ä¸Šè¿°ä»£ç ç­‰ä»·äºï¼š
```html
<my-checkbox
  :checked="foo"
  @change="val => { foo = val }"
  value="some value">
</my-checkbox>
```

æ³¨æ„ä½ ä»ç„¶éœ€è¦æ˜¾å¼å£°æ˜ `checked` è¿™ä¸ª propã€‚

---

checkbox ç¤ºä¾‹ï¼š<br />çˆ¶ç»„ä»¶ï¼š
```vue
<template>
<div id="app">
  <div>checkbox: {{checkbox1}} {{checkbox2}}</div>
  <div>colors: {{colors}}</div>
  <my-checkbox v-model="checkbox1" value="red" @change="updateVal"></my-checkbox>
  <my-checkbox v-model="checkbox2" value="green" @change="updateVal"></my-checkbox>
</div>
</template>

<script>
import MyCheckbox from './components/MyCheckbox.vue'

export default {
  components: { MyCheckbox },
  data () {
    return {
      checkbox1: false,
      checkbox2: false,
      colors: []
    }
  },
  methods: {
    updateVal (checked, value) {
      console.log(checked)
      console.log(value)
      if (checked) {
        this.colors.push(value)
      } else {
        this.colors.splice(this.colors.indexOf(value), 1)
      }
    }
  }
}
</script>
```

å­ç»„ä»¶ï¼š
```vue
<template>
<span>
  <input type='checkbox'
    ref="checkbox"
    @change="updateValue($event.target)"
    :value="value"
    :id="value"
  >
  <label :for='value'>{{value}}</label>
</span>
</template>

<script>
export default {
  model: {
    prop: 'checked',
    event: 'change'
  },
  props: {
    checked: Boolean,
    value: String
  },
  methods: {
    updateValue (val) {
      // é€šè¿‡ change äº‹ä»¶å¸¦å‡ºæ•°å€¼
      this.$emit('change', val.checked, val.value)
    }
  }
}
</script>
```

æ•ˆæœå¦‚ä¸‹ï¼š<br />![GIF.gif](https://cdn.nlark.com/yuque/0/2020/gif/2213540/1607483966201-9d425635-d4d4-4a61-907c-a955f1b5c03d.gif#align=left&display=inline&height=87&originHeight=87&originWidth=203&size=6314&status=done&style=none&width=203)

<a name="lSUWz"></a>
## ä¸ƒã€ä¾èµ–æ³¨å…¥ï¼ˆ`provide` / `inject`ï¼‰
é™¤äº†é€šè¿‡ `props` å‘å­ç»„ä»¶ä¼ å€¼ä¹‹å¤–ï¼ŒVueè¿˜å…è®¸é€šè¿‡ `provide` / `inject` å‘å­ç»„ä»¶æ³¨å…¥æ•°æ®ã€æ–¹æ³•ã€‚è·Ÿ `props` ä¸åŒçš„æ˜¯ï¼Œ `inject` å¯ä»¥å‘ `å­å­™ç»„ä»¶` æ³¨å…¥æ•°æ®ã€æ–¹æ³•ï¼Œæ— è§†å­å­™ç»„ä»¶çš„å±‚çº§ï¼Œè€Œä¸å…‰å…‰åªæ˜¯å­ç»„ä»¶ã€‚

å³ï¼Œæ¯”å¦‚ï¼š
```vue
Rootï¼ˆprovideï¼‰ -> Child 1 -> Child 2 -> Child 3ï¼ˆinjectï¼‰
```
åœ¨Rootç»„ä»¶ä¸­æ³¨å…¥ï¼ˆ`provide`ï¼‰æ•°æ®ï¼Œåªè¦æ˜¯å…¶å­å­™ç»„ä»¶ï¼Œéƒ½èƒ½é€šè¿‡ `inject` å–å‡ºæ³¨å…¥çš„æ•°æ®ã€‚

<a name="kOiSX"></a>
### æ³¨å…¥æ•°æ®
ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ç¥–å…ˆç»„ä»¶ä¸­æ³¨å…¥æ•°æ® `msg` ï¼š
```vue
<template lang="pug">
InjectView
</template>

<script>
import InjectView from '../components-test/InjectView.vue'
export default {
  components: {
    InjectView
  },
  provide: {
    msg: 'Hello'
  }
}
</script>
```
å…¶å­ç»„ä»¶ï¼ˆ`InjectView`ï¼‰åˆåŒ…å«ä¸€ä¸ªå­ç»„ä»¶ `InjectChild` ï¼š
```vue
<template lang="pug">
InjectChild
</template>

<script>
import InjectChild from './InjectChild.vue'
export default {
  components: {
    InjectChild
  }
}
</script>
```
æœ€ååœ¨ `InjectChild` ä¸­å–å‡ºæ³¨å…¥çš„æ•°æ®ï¼š
```vue
<template lang="pug">
div {{info}}
</template>

<script>
export default {
  inject: {
    info: 'msg',
  },
  created() {
    console.log(this.info) // Hello
  }
}
</script>
```
å°†æ³¨å…¥çš„æ•°æ® `msg` æ›´åä¸º `info` ã€‚

è¦æ˜¯ä½¿ç”¨`props`ï¼Œåˆ™éœ€è¦å±‚å±‚ä¼ å€¼æ‰èƒ½è¾¾åˆ°ç›¸åŒçš„æ•ˆæœã€‚

<a name="3SNhn"></a>
### æ³¨å…¥æ–¹æ³•
è·Ÿ `data` å±æ€§ä¸€æ ·ï¼Œ `provide` ä¹Ÿå¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå…¶è¿”å›å€¼ç”šè‡³å¯ä»¥ä¸ºç»„ä»¶ä¸­çš„æ–¹æ³•ã€‚

è¿˜æ˜¯ä»¥ä¸Šé¢çš„ç¥–å…ˆç»„ä»¶ä¸ºä¾‹ï¼Œä¸‹é¢åªè´´å‡ºå…¶ `script` éƒ¨åˆ†ï¼š
```javascript
import InjectView from '../components-test/InjectView.vue'
export default {
  components: {
    InjectView
  },
  provide() {
    return {
      log: this.log
    }
  },
  methods: {
    log() {
      console.log("Hello world")
    }
  }
}
```
åœ¨ `InjectView` ä¸­å–å‡ºæ­¤æ–¹æ³•ï¼š
```javascript
export default {
  inject: {
    print: 'log',
  },
  created() {
    this.print() // Hello world
  }
}
```
`inject` ä¹Ÿå¯è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè·Ÿ `props` å·®ä¸å¤šï¼š
```javascript
export default {
  inject: ['log'],
  created() {
    this.log()
  }
}
```

<a name="MKRy6"></a>
## å‚è€ƒèµ„æ–™

- [è®¿é—®æ ¹å®ä¾‹](https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E8%AE%BF%E9%97%AE%E6%A0%B9%E5%AE%9E%E4%BE%8B)
- [è®¿é—®çˆ¶çº§ç»„ä»¶å®ä¾‹](https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E8%AE%BF%E9%97%AE%E7%88%B6%E7%BA%A7%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B)
- [Prop](https://cn.vuejs.org/v2/guide/components-props.html)
- [è‡ªå®šä¹‰äº‹ä»¶](https://cn.vuejs.org/v2/guide/components-custom-events.html)
- [provide / inject](https://cn.vuejs.org/v2/api/#provide-inject)
- [ä¾èµ–æ³¨å…¥](https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5)
