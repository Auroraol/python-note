# åŸºäºè¯­é›€ API çš„æ–‡æ¡£ç®¡ç†æ¢ç´¢

## API æ“ä½œä¸è¯´æ˜

### é€šç”¨å‚æ•°è¯´æ˜

```
https://www.yuque.com/yuque/developer/api
```

![](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115154629424.png)

**å‚æ•°è¯´æ˜**

| Name      | Description                                                  | Example                                                    |
| --------- | ------------------------------------------------------------ | ---------------------------------------------------------- |
| id        | æ•°æ®çš„å”¯ä¸€ç¼–å·/ä¸»é”®                                          | 1984                                                       |
| login     | ç”¨æˆ·ï¼å›¢é˜Ÿçš„å”¯ä¸€åç§° ç”¨æˆ·ï¼å›¢é˜Ÿç¼–å·                          | ç”¨æˆ·ï¼šç”¨æˆ·ä¸ªäººè·¯å¾„<br> å›¢é˜Ÿï¼šå¦‚[è¯­é›€å›¢é˜Ÿï¼Œlogin å€¼ä¸º yuque |
| book_slug | ä»“åº“å”¯ä¸€åç§°                                                 | å¦‚è¯­é›€å¼€å‘è€…æ–‡æ¡£è¿™ä¸ªä»“åº“ï¼Œbook_slug å€¼ä¸º developer         |
| namespace | ä»“åº“çš„å”¯ä¸€åç§° éœ€è¦ç»„åˆ :login/:book_slug æˆ–å¯ä»¥ç›´æ¥ä½¿ç”¨ä»“åº“ç¼–å· | å¦‚å½“å‰è¿™ç¯‡æ–‡æ¡£çš„namespaceæ˜¯yuque/developer                 |
| slug      | æ–‡æ¡£å”¯ä¸€åç§°                                                 | å¦‚å½“å‰è¿™ç¯‡æ–‡æ¡£çš„ slug å€¼ä¸º   api                           |

**è¿”å›æ•°æ®æ ¼å¼**â€”â€”JSON æ ¼å¼

```json
{
  "data": {
    "id": 10,
    "slug": "weekly",
    "name": "æŠ€æœ¯å‘¨åˆŠ",
    "abilities": {
      "update": false,
      "destroy": false
    }
  },
  "meta": {
    "liked": false,
    "followed": false,
  }
}
```

### ä½¿ç”¨apiéœ€è¦ä¸ªäººç”¨æˆ·è®¤è¯

è·å– Token å¯é€šè¿‡ç‚¹å‡»è¯­é›€çš„ä¸ªäººå¤´åƒï¼Œå¹¶è¿›å…¥ [ä¸ªäººè®¾ç½®](https://www.yuque.com/settings/tokens) é¡µé¢æ‹¿åˆ°ï¼Œå¦‚ä¸‹å›¾ï¼š

![image.png](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/1680345283904-509c590e-b0b3-45a6-a9ff-aedde629b0c9.png)

### è·å–ä¸ªäººçš„æ‰€æœ‰çŸ¥è¯†åº“

```python
import requests
headers = {
	"Content-Type": "application/json",
	"User-Agent": "YQExportMD",
	"X-Auth-Token": 'XJ..........PQCoJtjrIO'   //
}	
response = requests.request(method='GET', url='https://www.yuque.com/api/v2/users/shenweiyan/repos', headers=headers)
response.json()
```

```json
Out[16]:
{'data': [{'id': 227777,
   'type': 'Book',
   'slug': 'cookbook',
   'name': 'æŠ€æœ¯ç§æˆ¿èœ',
   'user_id': 126032,
   'description': 'åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œè®°å½•å·¥ä½œï¼Œå­¦ä¹ çš„çŸ¥è¯†æ±‡æ€»ã€‚',
   'creator_id': 126032,
   'public': 1,
   'items_count': 218,
   'likes_count': 0,
   'watches_count': 182,
   'content_updated_at': '2022-12-02T07:27:32.714Z',
   'updated_at': '2022-12-02T07:27:33.000Z',
   'created_at': '2019-03-01T12:22:24.000Z',
   'namespace': 'shenweiyan/cookbook',
   'user': {'id': 126032,
    'type': 'User',
    'login': 'shenweiyan',
    'name': 'ç« é±¼çŒ«å…ˆç”Ÿ',
    'description': 'ä¹äºåˆ†äº«ï¼Œçˆ±å¥½ç å­—ï¼Œæ²‰è¿·äºæŠ˜è…¾  | Bio & IT çˆ±å¥½è€…',
    'avatar_url': 'https://cdn.yuque.com/yuque/0/2018/jpeg/126032/1526460304504-avatar/f6903e58-a5ec-4c79-9d61-f8c8e0e3f83c.jpeg',
    'followers_count': 765,
    'following_count': 95,
    'created_at': '2018-05-16T08:29:24.000Z',
    'updated_at': '2022-12-02T07:44:57.000Z',
    '_serializer': 'v2.user'},
   '_serializer': 'v2.book'},
  {'id': 174556,
   'type': 'Book',
   'slug': 'own',
   'name': 'æ‚æ–‡ç§æˆ¿èœ',
   .....
  },
  ......
}		  
```

### è·å–æŸä¸ªçŸ¥è¯†åº“å†…æ‰€æœ‰æ–‡æ¡£

çŸ¥è¯†åº“åˆ†ä¸ºæ–‡æ¡£ï¼ç”»æ¿ä¸¤ç§ç±»å‹ã€‚

```python
url  = "https://www.yuque.com/api/v2/repos/227777/docs"  # 227777 ä¸ºå¯¹åº”çŸ¥è¯†åº“çš„ repo_id
resp = requests.request("GET", url, headers=headers)
repo_docs = resp.json()		# å¾—åˆ°ä¸€ä¸ªä»¥ data ä¸º key çš„å­—å…¸
docs = repo_docs['data']	# è¿”å›ä¸€ä¸ªåŒ…å«è¯¥çŸ¥è¯†åº“æ‰€æœ‰æ–‡æ¡£çš„ list
```

```json
In [20]: docs[0].keys()     # æ¯ä¸ª list æ˜¯ä¸€ä¸ªåŒ…å«äº† 27 ä¸ª key çš„å­—å…¸
Out[20]: dict_keys(['id', 'slug', 'title', 'description', 'user_id', 'book_id', 'format', 'public', 'status', 'view_status', 'read_status', 'likes_count', 'read_count', 'comments_count', 'content_updated_at', 'created_at', 'updated_at', 'published_at', 'first_published_at', 'draft_version', 'last_editor_id', 'word_count', 'cover', 'custom_description', 'last_editor', 'book', '_serializer'])
```

### è·å–æŸä¸ªæŒ‡å®šæ–‡æ¡£çš„å†…å®¹

#### åŸºäº API 1

æœ€ç»ˆçš„`doc['data']['body']`å³ä¸ºå¯¹åº”æ–‡ç« æ­£æ–‡å†…å®¹ã€‚

```python
repo_id, slug = "227777", "webstack-hugo"
url = "https://www.yuque.com/api/v2/repos/%s/docs/%s" % (repo_id, slug)
res = requests.request("GET", url, headers=headers)
doc = res.json() 	# è¿”å›ä¸€ä¸ªåŒ…å« ['abilities', 'data'] key çš„å­—å…¸
```

```json
In [30]: doc.keys()
Out[30]: dict_keys( ['abilities', 'data'] 

In [31]: doc['data'].keys()
Out[31]: dict_keys(['id', 'slug', 'title', 'book_id', 'book', 'user_id', 'creator', 'format', 'body', 'body_draft', 'body_html', 'body_lake', 'body_draft_lake', 'public', 'status', 'view_status', 'read_status', 'likes_count', 'comments_count', 'content_updated_at', 'deleted_at', 'created_at', 'updated_at', 'published_at', 'first_published_at', 'word_count', 'cover', 'description', 'custom_description', 'hits', '_serializer'])				   
In [26]: doc
Out[26]:
{'abilities': {'update': True, 'destroy': True},
 'data': {'id': 49148406,
  'slug': 'webstack-hugo',
  'title': 'WebStack-Hugo | ä¸€ä¸ªé™æ€å“åº”å¼ç½‘å€å¯¼èˆªä¸»é¢˜',
  'book_id': 227777,
  'book': {'id': 227777,
   'type': 'Book',
   'slug': 'cookbook',
   'name': 'æŠ€æœ¯ç§æˆ¿èœ',
   'user_id': 126032,
   'description': 'åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œè®°å½•å·¥ä½œï¼Œå­¦ä¹ çš„çŸ¥è¯†æ±‡æ€»ã€‚',
   'creator_id': 126032,
   'public': 1,
   'items_count': 218,
   'likes_count': 0,
   'watches_count': 182,
   'content_updated_at': '2022-12-02T07:27:32.714Z',
   'updated_at': '2022-12-02T07:27:33.000Z',
   'created_at': '2019-03-01T12:22:24.000Z',
   'namespace': 'shenweiyan/cookbook',
   'user': {'id': 126032,
    'type': 'User',
    'login': 'shenweiyan',
    'name': 'ç« é±¼çŒ«å…ˆç”Ÿ',
    'description': 'ä¹äºåˆ†äº«ï¼Œçˆ±å¥½ç å­—ï¼Œæ²‰è¿·äºæŠ˜è…¾  | Bio & IT çˆ±å¥½è€…',
    'avatar_url': 'https://cdn.yuque.com/yuque/0/2018/jpeg/126032/1526460304504-avatar/f6903e58-a5ec-4c79-9d61-f8c8e0e3f83c.jpeg',
    'books_count': 27,
    'public_books_count': 12,
    'followers_count': 765,
    'following_count': 95,
    'created_at': '2018-05-16T08:29:24.000Z',
    'updated_at': '2022-12-02T07:44:57.000Z',
    '_serializer': 'v2.user'},
   '_serializer': 'v2.book'},
  'user_id': 126032,
  'creator': {'id': 126032,
   'type': 'User',
   'login': 'shenweiyan',
   'name': 'ç« é±¼çŒ«å…ˆç”Ÿ',
   'description': 'ä¹äºåˆ†äº«ï¼Œçˆ±å¥½ç å­—ï¼Œæ²‰è¿·äºæŠ˜è…¾  | Bio & IT çˆ±å¥½è€…',
   'avatar_url': 'https://cdn.yuque.com/yuque/0/2018/jpeg/126032/1526460304504-avatar/f6903e58-a5ec-4c79-9d61-f8c8e0e3f83c.jpeg',
   'books_count': 27,
   'public_books_count': 12,
   'followers_count': 765,
   'following_count': 95,
   'created_at': '2018-05-16T08:29:24.000Z',
   'updated_at': '2022-12-02T07:44:57.000Z',
   '_serializer': 'v2.user'},
  'format': 'lake',
  'body': ':::tips\n**ğŸ“¢ å¦‚æœæ‚¨å‚è€ƒæœ¬ä¸»é¢˜æ„å»ºäº†å±äºä½ è‡ªå·±çš„ç½‘å€å¯¼èˆªï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ ç½‘ç«™çš„è®¿é—®é“¾æ¥ã€‚**\n:::\......
   .....
  
```

#### åŸºäº API 2

![image-20231115163517002](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115163517002.png)

**api:** 

```
https://www.yuque.com/api/docs/' + sulg + '?book_id=' + book_id + '&merge_dynamic_data=false&mode=markdown'
```

![image-20231115163537255](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115163537255.png)

**æµ‹è¯•**

![image-20231115163630501](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115163630501.png)



#### ä¸ç”¨ API

å¦‚æœè¯­é›€æŸä¸€ç¯‡å…¬å¼€æ–‡æ¡£çš„é“¾æ¥ï¼Œå¦‚ https://www.yuque.com/yuque/developer/apiï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥ url åå¢åŠ  **"/markdown?plain=true&linebreak=false&anchor=false"**ï¼Œå³å¯åœ¨æµè§ˆå™¨ç›´æ¥æŸ¥é˜…è¯¥æ–‡æ¡£çš„ markdown æ ¼å¼å†…å®¹ã€‚

```
https://www.yuque.com/yuque/developer/api/markdown?plain=true&linebreak=false&anchor=false
```

[https://www.yuque.com/yuque/developer/api/markdown?plain=true&linebreak=false&anchor=false](https://www.yuque.com/yuque/developer/api/markdown?plain=true&linebreak=false&anchor=false)

[![image.png](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/1669971411350-a3ecd66d-c480-4f12-aaba-1c63ac20e998.png)](https://cos.shenlab.cn/yuque/0/2022/png/126032/1669971411350-a3ecd66d-c480-4f12-aaba-1c63ac20e998.png)

æ¥ä¸‹æ¥çš„æ“ä½œå°±å¾ˆç®€å•äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¤åˆ¶è¯¥ markdown å†…å®¹ï¼Œæˆ–è€…ç”¨ç¨‹åºç›´æ¥æŠ“å–ä¸‹æ¥ã€‚

```python
In [46]: res = requests.request("GET", 'https://www.yuque.com/yuque/developer/api/markdown?plain=true&linebreak=false&anchor=false', headers=headers)

In [47]: res.text
Out[47]: '## åŸºæœ¬è·¯å¾„\n\næ‰€æœ‰ API çš„è·¯å¾„éƒ½ä»¥ `https://www.yuque.com/api/v2` å¼€å¤´ã€‚\nç©ºé—´ä¸‹è®¿é—® API çš„åŸŸåéœ€è¦ä½¿ç”¨ç©ºé—´å¯¹åº”çš„åŸŸåï¼Œä¾‹å¦‚ç©ºé—´åŸŸåä¸º customspace.yuque.comï¼Œ åˆ™ API çš„åŸºç¡€è·¯å¾„ä¸º `https://customspace.yuque.com/api/v2`ã€‚\n\nå»ºè®®å¼€å¯ follow redirect èƒ½åŠ›:\n```bash\n# -L To follow redirect with Curl\ncurl -L -X "POST" "https://www.yuque.com/api/v2/..." \\\n     -H \'User-Agent: your_name\' \\\n     -H \'X-Auth-Token: your_token\' \\\n     -H \'Content-Type: application/json\' \\\n     -d $\'{}\'\n```\n\n## HTTP Verbs\n\n| Verb | Description |\n| --- | --- |\n| GET | ç”¨äºè·å–æ•°æ® |\n| POST | ç”¨äºåˆ›å»ºæ•°æ® |\n| PUT | ç”¨äºä¿®æ”¹éƒ¨åˆ†æ•°æ®ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–‡æ¡£æ ‡é¢˜ï¼Œæ­£æ–‡ |\n| DELETE | ç”¨äºåˆ é™¤æ•°æ® |\n\n\n## HTTP æäº¤æ•°æ®è¯´æ˜\n\nå½“\xa0**POST**,\xa0**PUT**\xa0è¯·æ±‚çš„æ—¶å€™ï¼Œè¯·ç¡®ä¿ Request Content-Type æ˜¯ `application/json`\xa0ç±»å‹ã€‚\n\n```json\nreq.Headers.Add("Content-Type", "application/json")\n```\n\n\n## User-Agent Header\n\nä¸ºäº†ç¡®ä¿æˆ‘ä»¬èƒ½çŸ¥é“è®¿é—®è€…æ˜¯è°ï¼ŒAPI è¦æ±‚å¿…é¡»ä¼ é€’ `User-Agent` Headerï¼Œå¦åˆ™å°†ä¼šæ‹’ç»è¯·æ±‚ã€‚\n\nä¾‹å¦‚:\n```go\nreq.Headers.Add("User-Agent", "è¿™é‡Œå¯ä»¥å¡«åº”ç”¨åç§°")\n```\n\n## ç”¨æˆ·è®¤è¯\n\n:::info\nè¯­é›€æ‰€æœ‰çš„å¼€æ”¾ API éƒ½éœ€è¦ Token éªŒè¯ä¹‹åæ‰èƒ½è®¿é—®ã€‚\n:::\n\nè¯­é›€ API ç›®å‰ä½¿ç”¨ Token æœºåˆ¶æ¥å®ç°ç”¨æˆ·è®¤è¯ã€‚\n\nä½ éœ€è¦åœ¨è¯·æ±‚çš„ HTTP Headers ä¼ å…¥ `X-Auth-Token` å¸¦å…¥ç”¨æˆ·çš„ Token ä¿¡æ¯ï¼Œç”¨äºè®¤è¯ã€‚\n\nè·å– Token å¯é€šè¿‡ç‚¹å‡»è¯­é›€çš„ä¸ªäººå¤´åƒï¼Œå¹¶è¿›å…¥\xa0[ä¸ªäººè®¾ç½®](/settings/tokens)\xa0é¡µé¢æ‹¿åˆ°ï¼Œå¦‚ä¸‹å›¾ï¼š\n![image.png](https://cos.shenlab.cn/yuque/0/2019/png/84145/1556263208113-272c18c0-2608-48b5-81b0-141b49ef432f.png)\xa0æ ‡å‡†æ ¼å¼ï¼Œè¯·æŒ‰ç…§æ ‡å‡†æ–¹å¼è¿›è¡Œè½¬æ¢ã€‚\n'

In [48]:
```

### è¯­é›€å›¾ç‰‡å¤‡ä»½å¤„ç†

è¯­é›€çš„å›¾ç‰‡å¯ä»¥ç›´æ¥ä¸‹è½½åˆ°æœ¬åœ°ï¼ˆå‚è€ƒï¼šhttps://github.com/shenweiyan/YQExportMDï¼‰ï¼Œæˆ–è€…ä½¿ç”¨é•œåƒå›æºçš„æ–¹å¼ç›´æ¥è½¬å­˜åˆ°é˜¿é‡Œäº‘/è…¾è®¯äº‘â€¦..çš„å¯¹è±¡å­˜å‚¨ä¸­ï¼ˆå‚è€ƒï¼š[è¯­é›€å›¾ç‰‡çš„åŒæ­¥è¿ç§»è§£å†³æ–¹æ¡ˆ](https://www.yuque.com/shenweiyan/cookbook/sync-from-yuque-to-oss?view=doc_embed)ï¼‰ï¼Œè¿™é‡Œæš‚æ—¶ä¸å±•å¼€ã€‚

# æ­£å¼çˆ¬è™«â€”â€”ç½‘é¡µåˆ†æ

## åˆ†æç½‘ç«™

```
https://www.yuque.com/aceld/mo95lb/dsk886
```

![image-20231115150729673](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115150729673.png)

æŠŠä¸Šè¿°æ•°æ®è¿›è¡Œjsonè§£æ

```json
{
    "me": {
        "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/ApEnVmpRbThmwJJukDlb.jpeg",
        "avatar": "https://gw.alipayobjects.com/zos/rmsportal/ApEnVmpRbThmwJJukDlb.jpeg",
        "language": "zh-cn",
        "is_admin": false,
        "is_uirobot": false
    },
    "notification": {},
    "settings": {
        "allowed_link_schema": [
            "dingtalk:"
        ],
        "enable_link_interception": true,
        "enable_new_user_public_ability_forbid": true,
        "user_registry_forbidden_level": "",
        "watermark_enable": "",
        "public_space_doc_search_enable": true,
        "lake_enabled_groups": "*",
        "image_proxy_root": "",
        "max_import_task_count": 1,
        "enable_search": true,
        "enable_serviceworker": true,
        "enable_lazyload_card": "codeblock",
        "editor_canary": {
            "card_lazy_init": 100,
            "retryOriginImage": 100
        },
        "enable_attachment_multipart": true,
        "enable_custom_video_player": true,
        "conference_gift_num": 0,
        "intranet_safe_tip": [
            "open"
        ],
        "publication_enable_whitelist": [],
        "foreign_phone_registry_enabled_organization_whitelist": [
            "16014876",
            "16022684",
            "16052442",
            "18041640",
            "1437",
            "1565",
            "1796",
            "2838",
            "16052442",
            "309",
            "22614",
            "1780",
            "6001397",
            "14481",
            "14040138",
            "16052442",
            "14043106",
            "14006688",
            "16033469",
            "18044074",
            "11321",
            "2008",
            "35721",
            "6001216",
            "806",
            "18041640",
            "18100055",
            "16014876",
            "16022684",
            "20013926"
        ],
        "disabled_login_modal_pop_default": true,
        "enable_open_in_mobile_app": true,
        "enable_wechat_guide_qrcode": true,
        "enable_issue": true,
        "enable_blank_page_detect": true,
        "zone_ant_auth_keepalive_enabled_domains": [],
        "enable_new_group_page_whitelist": [],
        "enable_web_ocr": {
            "enable": true,
            "enableBrowsers": [
                "chrome"
            ],
            "_users": [
                106822
            ],
            "percent": 100
        },
        "customer_staff_dingtalk_id": "",
        "enable_desktop_force_local": true,
        "side_third_app_config": {},
        "desktop_check_network_status_interval": 30,
        "review_assistant_provider_url": "",
        "debug_assistant_provider_url": "",
        "codefuse_assistant_provider_url": "",
        "user_certifications_share_whitelist": [
            "352135",
            "39191355",
            "95294",
            "13012852",
            "39187844",
            "39195365",
            "22303185",
            "39199571",
            "39200198"
        ],
        "user_certifications_share_scale": 10,
        "support_extension_download_url": true,
        "user_communication_group_qrcode": "https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*5CiSRraBRL0AAAAAAAAAAAAADvuFAQ/original"
    },
    "env": "prod",
    "space": {
        "id": 0,
        "login": "",
        "name": "è¯­é›€",
        "short_name": null,
        "status": 0,
        "account_id": 0,
        "logo": null,
        "description": "",
        "created_at": null,
        "updated_at": null,
        "host": "https://www.yuque.com",
        "displayName": "è¯­é›€",
        "logo_url": "https://cdn.nlark.com/yuque/0/2022/png/303152/1665994257081-avatar/dcb74862-1409-4691-b9ce-8173b4f6e037.png",
        "enable_password": true,
        "enable_watermark": false,
        "_serializer": "web.space"
    },
    "isYuque": true,
    "isPublicCloud": true,
    "isEnterprise": false,
    "isUseAntLogin": false,
    "defaultSpaceHost": "https://www.yuque.com",
    "timestamp": 1700027795009,
    "traceId": "ac136c6317000277948812181129",
    "siteName": "è¯­é›€",
    "siteTip": null,
    "activityTip": null,
    "topTip": null,
    "readTip": {},
    "questionRecommend": null,
    "dashboardBannerRecommend": null,
    "imageServiceDomains": [
        "cdn.yuque.com",
        "cdn.nlark.com",
        "img.shields.io",
        "travis-ci.org",
        "api.travis-ci.org",
        "npm.packagequality.com",
        "snyk.io",
        "coveralls.io",
        "badgen.now.sh",
        "badgen.net",
        "packagephobia.now.sh",
        "duing.alibaba-inc.com",
        "npm.alibaba-inc.com",
        "web.npm.alibaba-inc.com",
        "npmjs.com",
        "npmjs.org",
        "npg.dockerlab.alipay.net",
        "private-alipayobjects.alipay.com",
        "googleusercontent.com",
        "blogspot.com",
        "cdn.hk01.com",
        "camo.githubusercontent.com",
        "gw.daily.taobaocdn.net",
        "cdn-images-1.medium.com",
        "medium.com",
        "i.stack.imgur.com",
        "imgur.com",
        "doc.ucweb.local",
        "lh6.googleusercontent.com",
        "4.bp.blogspot.com",
        "bp.blogspot.com",
        "blogspot.com",
        "1.bp.blogspot.com",
        "2.bp.blogspot.com",
        "3.bp.blogspot.com",
        "aliwork-files.oss-accelerate.aliyuncs.com",
        "oss-accelerate.aliyuncs.com",
        "work.alibaba.net",
        "work.alibaba-inc.com",
        "work-file.alibaba.net",
        "work-file.alibaba-inc.com",
        "pre-work-file.alibaba-inc.com",
        "yuque.antfin.com",
        "yuque.antfin-inc.com",
        "intranetproxy.alipay.com",
        "lark-assets-prod-aliyun.oss-accelerate.aliyuncs.com",
        "lh1.googleusercontent.com",
        "lh2.googleusercontent.com",
        "lh3.googleusercontent.com",
        "lh4.googleusercontent.com",
        "lh5.googleusercontent.com",
        "lh6.googleusercontent.com",
        "lh7.googleusercontent.com",
        "lh8.googleusercontent.com",
        "lh9.googleusercontent.com",
        "raw.githubusercontent.com",
        "github.com",
        "en.wikipedia.org",
        "rawcdn.githack.com",
        "pre-work-file.alibaba-inc.com",
        "alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com",
        "antsys-align-files-management.cn-hangzhou.alipay.aliyun-inc.com",
        "baiyan-pre.antfin.com",
        "baiyan.antfin.com",
        "baiyan.dev.alipay.net",
        "marketing.aliyun-inc.com",
        "lark-temp.oss-cn-hangzhou.aliyuncs.com",
        "www.yuque.com",
        "yuque.com",
        "cdn.nlark.com"
    ],
    "sharePlatforms": [
        "wechat",
        "dingtalk"
    ],
    "locale": "zh-cn",
    "matchCondition": {
        "fileType": "Doc",
        "useTileRendering": true,
        "useEditorTileRendering": true,
        "useEditorTileRenderingForOT": true,
        "useEditorVirtualRenderingForOT": false,
        "useEditorDelayTileChange": true,
        "useEditorVirtualRendering": false
    },
    "empInfo": {},
    "enableSideThirdApp": false,
    "customTracertConfig": {
        "spmBPos": "doc_read"
    },
    "group": {
        "id": 26269664,
        "type": "User",
        "login": "aceld",
        "name": "åˆ˜ä¸¹å†°Aceld",
        "description": "https://github.com/aceld",
        "avatar": "https://cdn.nlark.com/yuque/0/2022/png/26269664/1651594557072-avatar/c20a2fdd-3126-4dea-b477-0866022d648a.png",
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/png/26269664/1651594557072-avatar/c20a2fdd-3126-4dea-b477-0866022d648a.png",
        "owner_id": null,
        "books_count": 15,
        "public_books_count": 11,
        "topics_count": 0,
        "public_topics_count": 0,
        "members_count": 0,
        "abilities": {
            "create_book": false,
            "create_member": false,
            "destroy": false,
            "read": true,
            "read_private": false,
            "update": false,
            "manage": false,
            "restore": false,
            "read_tag": false
        },
        "settings": null,
        "public": 1,
        "extend_private": 0,
        "scene": null,
        "created_at": "2022-02-24T03:52:25.000Z",
        "updated_at": "2023-11-14T13:42:46.000Z",
        "expired_at": "2024-09-24T15:59:59.000Z",
        "deleted_at": null,
        "organization_id": 0,
        "isPaid": true,
        "member_level": 1,
        "memberLevelName": "ä¸“ä¸šä¼šå‘˜",
        "hasMemberLevel": true,
        "isTopLevel": false,
        "grains_sum": 15340,
        "status": 1,
        "source": "index",
        "zone_id": 0,
        "isPermanentPunished": false,
        "isWiki": false,
        "isPublicPage": false,
        "organization": null,
        "owners": null,
        "_serializer": "web.group"
    },
    "book": {
        "id": 26950668,
        "type": "Book",
        "slug": "mo95lb",
        "name": "8å°æ—¶è½¬èŒGolangå·¥ç¨‹å¸ˆ",
        "toc": [
            {
                "type": "DOC",
                "title": "8å°æ—¶è½¬èŒGolangå·¥ç¨‹å¸ˆ",
                "uuid": "GZZu-Lrlbv0Ig3tk",
                "url": "dsk886",
                "prev_uuid": "",
                "sibling_uuid": "rBPgqqPG8K-9cjcw",
                "child_uuid": "",
                "parent_uuid": "",
                "doc_id": 74372830,
                "level": 0,
                "id": 74372830,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "ä¸€ã€å¼•è¨€",
                "uuid": "rBPgqqPG8K-9cjcw",
                "url": "zwukev",
                "prev_uuid": "GZZu-Lrlbv0Ig3tk",
                "sibling_uuid": "xp3xOn_vIq2YocE3",
                "child_uuid": "",
                "parent_uuid": "",
                "doc_id": 74374885,
                "level": 0,
                "id": 74374885,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "äºŒã€Golangå¼€å‘ç¯å¢ƒ",
                "uuid": "xp3xOn_vIq2YocE3",
                "url": "haizwm",
                "prev_uuid": "rBPgqqPG8K-9cjcw",
                "sibling_uuid": "eCDGTOv8KvDNEUP8",
                "child_uuid": "",
                "parent_uuid": "",
                "doc_id": 74377607,
                "level": 0,
                "id": 74377607,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "ä¸‰ã€Golangè¯­è¨€ç‰¹æ€§",
                "uuid": "eCDGTOv8KvDNEUP8",
                "url": "xk0fqo",
                "prev_uuid": "xp3xOn_vIq2YocE3",
                "sibling_uuid": "SZxxnlq-DGqt6ojH",
                "child_uuid": "",
                "parent_uuid": "",
                "doc_id": 74378532,
                "level": 0,
                "id": 74378532,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "å››ã€Golangè¯­æ³•æ–°å¥‡",
                "uuid": "SZxxnlq-DGqt6ojH",
                "url": "ye2kii",
                "prev_uuid": "eCDGTOv8KvDNEUP8",
                "sibling_uuid": "L8l44hSlXdJh_N9Y",
                "child_uuid": "ELFbbcnHwqayR3mB",
                "parent_uuid": "",
                "doc_id": 74379206,
                "level": 0,
                "id": 74379206,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "1ã€ä»ä¸€ä¸ªmainå‡½æ•°åˆè§golangè¯­æ³•",
                "uuid": "ELFbbcnHwqayR3mB",
                "url": "pz6nag",
                "prev_uuid": "SZxxnlq-DGqt6ojH",
                "sibling_uuid": "FCiomMp3QXm0T4rI",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74379267,
                "level": 1,
                "id": 74379267,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "2ã€å˜é‡çš„å£°æ˜",
                "uuid": "FCiomMp3QXm0T4rI",
                "url": "mayg6h",
                "prev_uuid": "ELFbbcnHwqayR3mB",
                "sibling_uuid": "ttrS5CUQ0kILJPUH",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74465041,
                "level": 1,
                "id": 74465041,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "3ã€å¸¸é‡",
                "uuid": "ttrS5CUQ0kILJPUH",
                "url": "acsgdr",
                "prev_uuid": "FCiomMp3QXm0T4rI",
                "sibling_uuid": "j7QRBe2kuUJUZjEI",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74465186,
                "level": 1,
                "id": 74465186,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "4ã€å‡½æ•°",
                "uuid": "j7QRBe2kuUJUZjEI",
                "url": "kk9cvo",
                "prev_uuid": "ttrS5CUQ0kILJPUH",
                "sibling_uuid": "a9A1C01ErDjuybHU",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74465350,
                "level": 1,
                "id": 74465350,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "5ã€defer",
                "uuid": "a9A1C01ErDjuybHU",
                "url": "zz7w9r",
                "prev_uuid": "j7QRBe2kuUJUZjEI",
                "sibling_uuid": "6PzhCBcD76hl3zew",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74466057,
                "level": 1,
                "id": 74466057,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "6ã€sliceå’Œmap",
                "uuid": "6PzhCBcD76hl3zew",
                "url": "ovmzgh",
                "prev_uuid": "a9A1C01ErDjuybHU",
                "sibling_uuid": "fOry1ZHGnKd6aTz4",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74466087,
                "level": 1,
                "id": 74466087,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "7ã€é¢å‘å¯¹è±¡ç‰¹å¾",
                "uuid": "fOry1ZHGnKd6aTz4",
                "url": "aoxo9v",
                "prev_uuid": "6PzhCBcD76hl3zew",
                "sibling_uuid": "ZxREAqbz152Iz6_X",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74466563,
                "level": 1,
                "id": 74466563,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "8ã€interfaceä¸ç±»å‹æ–­è¨€",
                "uuid": "ZxREAqbz152Iz6_X",
                "url": "frv2c9",
                "prev_uuid": "fOry1ZHGnKd6aTz4",
                "sibling_uuid": "lGAqtBM1qMNydg8X",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74466779,
                "level": 1,
                "id": 74466779,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "9ã€åå°„reflect",
                "uuid": "lGAqtBM1qMNydg8X",
                "url": "cwur9v",
                "prev_uuid": "ZxREAqbz152Iz6_X",
                "sibling_uuid": "9eIEgt0rAWk5qR7d",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74468558,
                "level": 1,
                "id": 74468558,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "10ã€ç»“æ„ä½“æ ‡ç­¾",
                "uuid": "9eIEgt0rAWk5qR7d",
                "url": "ybul6x",
                "prev_uuid": "lGAqtBM1qMNydg8X",
                "sibling_uuid": "",
                "child_uuid": "",
                "parent_uuid": "SZxxnlq-DGqt6ojH",
                "doc_id": 74591927,
                "level": 1,
                "id": 74591927,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "äº”ã€Golangé«˜é˜¶",
                "uuid": "L8l44hSlXdJh_N9Y",
                "url": "br98sg",
                "prev_uuid": "SZxxnlq-DGqt6ojH",
                "sibling_uuid": "vaeP1oQNZ1GK87NA",
                "child_uuid": "K-6lEis-5-X7fqNx",
                "parent_uuid": "",
                "doc_id": 74592160,
                "level": 0,
                "id": 74592160,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "4ã€Go Modules",
                "uuid": "K-6lEis-5-X7fqNx",
                "url": "ovib08",
                "prev_uuid": "L8l44hSlXdJh_N9Y",
                "sibling_uuid": "11ifpgM3MHZR3J6Y",
                "child_uuid": "",
                "parent_uuid": "L8l44hSlXdJh_N9Y",
                "doc_id": 74594438,
                "level": 1,
                "id": 74594438,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "1ã€goroutine",
                "uuid": "11ifpgM3MHZR3J6Y",
                "url": "vlnvyb",
                "prev_uuid": "K-6lEis-5-X7fqNx",
                "sibling_uuid": "q7Hc4JQmjrzU0Rqm",
                "child_uuid": "",
                "parent_uuid": "L8l44hSlXdJh_N9Y",
                "doc_id": 74592256,
                "level": 1,
                "id": 74592256,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "2ã€channel",
                "uuid": "q7Hc4JQmjrzU0Rqm",
                "url": "ir4ckz",
                "prev_uuid": "11ifpgM3MHZR3J6Y",
                "sibling_uuid": "0RSxuW0JgVWGAOAi",
                "child_uuid": "",
                "parent_uuid": "L8l44hSlXdJh_N9Y",
                "doc_id": 74592638,
                "level": 1,
                "id": 74592638,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "3ã€Select",
                "uuid": "0RSxuW0JgVWGAOAi",
                "url": "irl276",
                "prev_uuid": "q7Hc4JQmjrzU0Rqm",
                "sibling_uuid": "",
                "child_uuid": "",
                "parent_uuid": "L8l44hSlXdJh_N9Y",
                "doc_id": 74593989,
                "level": 1,
                "id": 74593989,
                "open_window": 1,
                "visible": 1
            },
            {
                "type": "DOC",
                "title": "å…­ã€æ¡ˆä¾‹-å³æ—¶é€šä¿¡ç³»ç»Ÿ",
                "uuid": "vaeP1oQNZ1GK87NA",
                "url": "ks1lr9",
                "prev_uuid": "L8l44hSlXdJh_N9Y",
                "sibling_uuid": "",
                "child_uuid": "",
                "parent_uuid": "",
                "doc_id": 74594942,
                "level": 0,
                "id": 74594942,
                "open_window": 1,
                "visible": 1
            }
        ],
        "toc_updated_at": "2022-04-22T06:05:32.000Z",
        "description": "æœ¬ä¹¦åå…¥é—¨çº§ï¼Œä¸»è¦æ˜¯é’ˆå¯¹åç«¯æƒ³å¿«é€Ÿä½æˆæœ¬æŒæ¡golangå¼€å‘äººç¾¤å­¦ä¹ ï¼Œå¦‚æ‚¨å·²ç»æŒæ¡golangè¯·ç»•è¡Œã€‚",
        "creator_id": 26269664,
        "menu_type": 0,
        "items_count": 21,
        "likes_count": 0,
        "watches_count": 49,
        "user_id": 26269664,
        "abilities": {
            "create": false,
            "update": false,
            "destroy": false,
            "create_doc": false,
            "update_toc": false,
            "read": true,
            "read_private": false,
            "export": false,
            "export_doc": false,
            "manage": false,
            "join": true,
            "share": false,
            "modify_setting": false,
            "create_collaborator": false,
            "download": false
        },
        "public": 1,
        "extend_private": 0,
        "scene": null,
        "source": null,
        "created_at": "2022-04-20T14:58:19.000Z",
        "updated_at": "2023-08-24T15:00:48.000Z",
        "pinned_at": null,
        "archived_at": null,
        "layout": "Book",
        "doc_typography": "classic_all",
        "doc_viewport": "fixed",
        "announcement": null,
        "should_manually_create_uid": false,
        "catalog_tail_type": "UPDATED_AT",
        "catalog_display_level": 1,
        "book_icon": {
            "type": "url",
            "symbol": "group-type-department"
        },
        "cover": "https://cdn.nlark.com/assets/88660/png/cover_3.png",
        "comment_count": null,
        "organization_id": 0,
        "status": 0,
        "indexed_level": 1,
        "privacy_migrated": true,
        "collaboration_count": 1,
        "content_updated_at": "2023-08-24T15:00:47.836Z",
        "content_updated_at_ms": 1692889247836,
        "copyright_watermark": "",
        "enable_announcement": true,
        "enable_auto_publish": false,
        "enable_automation": false,
        "enable_comment": true,
        "enable_document_copy": true,
        "enable_export": true,
        "enable_search_engine": false,
        "enable_toc": true,
        "enable_trash": true,
        "enable_visitor_watermark": false,
        "enable_webhook": true,
        "image_copyright_watermark": "",
        "original": 0,
        "resource_size": 0,
        "user": null,
        "contributors": null,
        "_serializer": "web.book_detail"
    },
    "doc": {
        "id": 74466779,
        "space_id": 0,
        "type": "Doc",
        "sub_type": null,
        "title": "8ã€interfaceä¸ç±»å‹æ–­è¨€",
        "tag": null,
        "slug": "frv2c9",
        "user_id": 26269664,
        "book_id": 26950668,
        "cover": null,
        "description": "Golangçš„è¯­è¨€ä¸­æä¾›äº†æ–­è¨€çš„åŠŸèƒ½ã€‚golangä¸­çš„æ‰€æœ‰ç¨‹åºéƒ½å®ç°äº†interface{}çš„æ¥å£ï¼Œè¿™æ„å‘³ç€ï¼Œæ‰€æœ‰çš„ç±»å‹å¦‚string,int,int64ç”šè‡³æ˜¯è‡ªå®šä¹‰çš„structç±»å‹éƒ½å°±æ­¤æ‹¥æœ‰äº†interface{}çš„æ¥å£ï¼Œè¿™ç§åšæ³•å’Œjavaä¸­çš„Objectç±»å‹æ¯”è¾ƒç±»ä¼¼ã€‚é‚£ä¹ˆåœ¨ä¸€ä¸ªæ•°æ®é€šè¿‡f...",
        "custom_description": null,
        "body_asl": "",
        "format": "lake",
        "origin_format": "lake",
        "status": 1,
        "read_status": 1,
        "view_status": 0,
        "public": 1,
        "draft_version": 2,
        "comments_count": 0,
        "likes_count": 26,
        "abilities": {
            "destroy": false,
            "read": true,
            "update": false,
            "create_collaborator": false,
            "manage": false,
            "share": false
        },
        "content_updated_at": "2022-04-21T08:18:56.000Z",
        "created_at": "2022-04-21T08:18:31.000Z",
        "updated_at": "2023-09-05T16:12:14.000Z",
        "published_at": "2022-04-21T08:18:56.000Z",
        "first_published_at": "2022-04-21T08:18:56.182Z",
        "pinned_at": null,
        "word_count": 546,
        "selected_at": null,
        "editor_meta": "{\"codeblock\":8}",
        "editor_meta_draft": "{\"codeblock\":8}",
        "meta": {
            "privacy_migrated": true
        },
        "region": null,
        "indexed_level": 1,
        "privacy_migrated": true,
        "share_expired_time": null,
        "_serializer": "web.doc_detail"
    },
    "isDocCollaborator": false,
    "isCollaborationPage": false,
    "forbidLoginCard": false,
    "loginCardPV": 2000,
    "docUrl": "https://www.yuque.com/aceld/mo95lb/frv2c9",
    "search": {
        "display": true,
        "scope": "aceld/mo95lb"
    },
    "prefetch": "fetchReadDocData",
    "enableMobileAppRelease": false,
    "enableUserFeed": false,
    "groupMemberInfo": {
        "usage": {
            "attachment_size": 154978817,
            "image_size": 191931283,
            "video_size": 0,
            "attachment_size_month": 0,
            "image_size_month": 0,
            "video_size_month": 0,
            "max_upload_size": 10737418240,
            "_serializer": "web.user_usage_statistics"
        },
        "totalDocAndNoteUsageMonth": 0,
        "expired_at": "2024-09-24T15:59:59.000Z",
        "countDownDays": 314,
        "isAllowRenew": false,
        "receipt": null,
        "groupOwners": [],
        "hasOrder": true
    },
    "canUseAiWriting": false,
    "canUseAiLegal": false,
    "canUseAiReading": false,
    "aiWritingStreamType": [],
    "legalAnimationTime": 50,
    "canUseAiTestCase": false,
    "canUseAiOutline": false,
    "virtualRenderingGrey": false,
    "userSettings": {},
    "interest": {
        "interests": {
            "create_public_resource": true,
            "book_statistics": true,
            "book_security": true,
            "book_webhook": true,
            "open_ocr": true
        },
        "limits": {
            "0": {
                "max_resource_total_size": null,
                "max_resource_month_size": 1073741824,
                "max_book_number": 100,
                "max_doc_note_number": 100,
                "max_group_number": 10,
                "max_book_collaborator_number": 5,
                "max_doc_collaborator_number": 5,
                "max_single_file_size": 31457280,
                "max_single_image_size": 10485760,
                "max_single_video_size": 0
            },
            "1": {
                "max_resource_total_size": null,
                "max_resource_month_size": 10737418240,
                "max_book_number": null,
                "max_doc_note_number": null,
                "max_group_number": 10,
                "max_book_collaborator_number": 50,
                "max_doc_collaborator_number": 50,
                "max_single_file_size": 524288000,
                "max_single_image_size": 20971520,
                "max_single_video_size": 524288000
            },
            "2": {
                "max_resource_total_size": null,
                "max_resource_month_size": 53687091200,
                "max_book_number": null,
                "max_doc_note_number": null,
                "max_group_number": 10,
                "max_single_file_size": 2147483648,
                "max_single_image_size": 52428800,
                "max_single_video_size": 2147483648,
                "max_book_collaborator_number": 500,
                "max_doc_collaborator_number": 500
            }
        },
        "owner": {
            "id": 26269664,
            "type": "User",
            "member_level": 1,
            "isTopLevel": false,
            "isMemberTopLevel": false,
            "isPaid": true,
            "isExpired": false
        },
        "limit": {
            "max_resource_total_size": null,
            "max_resource_month_size": 10737418240,
            "max_book_number": null,
            "max_doc_note_number": null,
            "max_group_number": 10,
            "max_book_collaborator_number": 50,
            "max_doc_collaborator_number": 50,
            "max_single_file_size": 524288000,
            "max_single_image_size": 20971520,
            "max_single_video_size": 524288000
        }
    },
    "isRunAtRaw": false,
    "paymentInfo": {
        "paymentBizInstId": "Z69"
    },
    "login": {
        "loginType": "normal",
        "enablePlatforms": [
            "dingtalk",
            "alipay",
            "wechat",
            "teambition",
            "apple"
        ],
        "isWechatMobileApp": false
    },
    "enableCoverageDeploy": false,
    "isDesktopApp": false,
    "isOnlineDesktopApp": false,
    "isIsomorphicDesktopApp": false,
    "isAssistant": false,
    "isAlipayApp": false,
    "isDingTalkApp": false,
    "isDingTalkMiniApp": false,
    "isDingTalkDesktopApp": false,
    "isYuqueMobileApp": false,
    "tracertConfig": {
        "spmAPos": "a385",
        "spmBPos": "doc_read"
    }
}
```

### æ ¼å¼åŒ–jsonæ•°æ®

å†æŠŠjsonæ•°æ®åœ¨[JSONåœ¨çº¿ç¼–è¾‘å™¨](https://www.sojson.com/editor.html)é‡Œæ ¼å¼åŒ–åˆ†æ, ç»“æœå¦‚ä¸‹

![FISG89}2WHWZYMM2I55_C2J](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/FISG89%7D2WHWZYMM2I55_C2J.png)è¯¦æƒ…

![image-20231115152637477](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115152637477.png)

å‘ç°bookå¯¹è±¡ä¸­tocæ•°ç»„å­˜æ”¾çš„å°±æ˜¯è¯¥çŸ¥è¯†åº“çš„æ‰€æœ‰æ–‡æ¡£çš„ä¸€äº›ä¿¡æ¯

### **ç»“åˆå¾…çˆ¬é¡µé¢åˆ†æ**

**sulg:**

![image-20231115152549332](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115152549332.png)

![image-20231115152445870](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115152445870.png)

**book_id:**

<img src="%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115155718447.png" alt="image-20231115155718447" style="zoom:67%;" />

è¡¥å……: (è¿™ä¸ªpythonä»£ç ä¸­æ²¡ä½¿ç”¨)

 <img src="%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115164526509.png" alt="image-20231115164526509" style="zoom:67%;" />

**ä½¿ç”¨è¯­é›€çš„API:**

```
'https://www.yuque.com/api/docs/' + sulg + '?book_id=' + book_id + '&merge_dynamic_data=false&mode=markdown')
```

æµ‹è¯•

![image-20231115163841654](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115163841654.png)



**è¿›ä¸€æ­¥åˆ†æ**

ç»‘å®šæ˜¯æ–‡ä»¶å¤¹è¿˜æ˜¯mdæ–‡ä»¶

æƒ…å†µä¸€

![image-20231115203458723](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115203458723.png)

å¯¹åº”

<img src="%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115203413416.png" style="zoom:150%;" />

æƒ…å†µäºŒ

<img src="%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115210358143.png" alt="image-20231115210358143" style="zoom:80%;" />

æƒ…å†µä¸‰  å¤šçº§æ–‡ä»¶å¤¹

![image-20231115211539868](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115211539868.png)

## ç¼–å†™pythonä»£ç 

æ€è·¯:

+ åˆ¶ä½œæ–‡ç« ç›®å½•(éš¾ç‚¹)  â€”â€”>  æŒ‰ç…§è¿™ä¸ªç›®å½•çˆ¬å–å°±å®Œäº‹å„¿

éš¾ç‚¹æ˜¯ç”Ÿæˆå¯¹åº”çš„ç›®å½•æ–‡ä»¶å¤¹ç„¶åä¿å­˜.mdæ–‡ä»¶

<img src="%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115165510405.png" alt="image-20231115165510405" style="zoom: 67%;" />

è¿™æ®µä»£ç åšçš„å°±æ˜¯ç”Ÿæˆä¸€ä¸ªç›®å½•

```python
# BY @burpheart
# https://www.yuque.com/burpheart/phpaudit
# https://github.com/burpheart

import json
import os
import re
import urllib.parse

import requests

# åˆ›å»ºç©ºåˆ—è¡¨
tset = []


# ä¿å­˜
def save_page(sulg, book_id, path):
    '''
        å®šä¹‰äº†ä¸€ä¸ªåä¸ºsave_pageçš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼šbook_idã€sulgå’Œpathã€‚
        è¿™ä¸ªå‡½æ•°ä½¿ç”¨requestsåº“å‘é€GETè¯·æ±‚ï¼Œä¸‹è½½æŒ‡å®šURLçš„æ–‡æ¡£å†…å®¹ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚
    '''
    docsdata = requests.get(
        'https://www.yuque.com/api/docs/' + sulg + '?book_id=' + book_id + '&merge_dynamic_data=false&mode=markdown')
    if (docsdata.status_code != 200):
        print("æ–‡æ¡£ä¸‹è½½å¤±è´¥ é¡µé¢å¯èƒ½è¢«åˆ é™¤ ", book_id, sulg, docsdata.content)
        return
    docsjson = json.loads(docsdata.content)

    f = open(path, 'w', encoding='utf-8')
    f.write(docsjson['data']['sourcecode'])
    f.close()


def get_book(url="https://www.yuque.com/aceld/mo95lb/frv2c9"):
    docsdata = requests.get(url)
    """ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼decodeURIComponent\(\"(.+)\"\)\);æ¥åŒ¹é…æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å­—ç¬¦ä¸²ï¼š
        - ä»¥decodeURIComponent("å¼€å¤´
        - ä»¥");ç»“å°¾
        - ä¸­é—´åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼ˆä½¿ç”¨(.+)è¡¨ç¤ºï¼‰
    """
    data = re.findall(r"decodeURIComponent\(\"(.+)\"\)\);", docsdata.content.decode('utf-8'))

    docsjson = json.loads(urllib.parse.unquote(data[0]))  # è¿›è¡ŒURLè§£ç , å†å°†jsonè½¬åŒ–æˆå­—å…¸
    test = []
    dict = {}
    temp = {}  # ä¿å­˜è·¯å¾„
    md = ""  # ä¿å­˜è·¯å¾„
    """
    è¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªå­—ç¬¦æ˜ å°„è¡¨ï¼ˆtranslation tableï¼‰ï¼Œç”¨äºå°†å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦æ›¿æ¢ä¸ºæŒ‡å®šçš„å­—ç¬¦ã€‚

    å…·ä½“æ¥è¯´ï¼Œstr.maketrans()å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è¢«æ›¿æ¢çš„å­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ›¿æ¢åçš„å­—ç¬¦ã€‚åœ¨è¿™è¡Œä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼ é€’äº†ä¸¤ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼š

    - '\/:*?"<>|'ï¼šè¿™æ˜¯è¦è¢«æ›¿æ¢çš„å­—ç¬¦é›†åˆï¼ŒåŒ…æ‹¬æ–œæ ã€åæ–œæ ã€å†’å·ã€æ˜Ÿå·ã€é—®å·ã€åŒå¼•å·ã€å°äºå·ã€å¤§äºå·å’Œç«–çº¿ã€‚
    - "___________"ï¼šè¿™æ˜¯æ›¿æ¢åçš„å­—ç¬¦ï¼Œç”¨ä¸‹åˆ’çº¿å­—ç¬¦æ›¿æ¢åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ã€‚

    é€šè¿‡è°ƒç”¨str.maketrans()å‡½æ•°ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦æ˜ å°„è¡¨tableï¼Œå®ƒå°†åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦æ˜ å°„ä¸ºä¸‹åˆ’çº¿å­—ç¬¦ã€‚è¿™ä¸ªæ˜ å°„è¡¨å¯ä»¥åœ¨åç»­çš„ä»£ç ä¸­ç”¨äºæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ã€‚
            
    
    """
    table = str.maketrans('\/:*?"<>|' + "\n\r", "___________")  # windowsæ“ä½œç³»ç»Ÿä¸­è§„å®šæ–‡ä»¶åä¸­ä¸èƒ½å«æœ‰çš„ç¬¦å·æ˜¯
    """
     '\/:*?"<>|'ï¼šè¿™æ˜¯è¦è¢«æ›¿æ¢çš„å­—ç¬¦é›†åˆï¼ŒåŒ…æ‹¬æ–œæ ã€åæ–œæ ã€å†’å·ã€æ˜Ÿå·ã€é—®å·ã€åŒå¼•å·ã€å°äºå·ã€å¤§äºå·å’Œç«–çº¿ã€‚
     "___________"ï¼šè¿™æ˜¯æ›¿æ¢åçš„å­—ç¬¦ï¼Œç”¨ä¸‹åˆ’çº¿å­—ç¬¦æ›¿æ¢åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ã€‚
    """
    prename = ""
    # åˆ›å»ºä¸‹è½½ç›®å½•
    if (os.path.exists("download/" + str(docsjson['book']['id'])) == False):
        os.makedirs("download/" + str(docsjson['book']['id']))

    # è¿™æ®µä»£ç æ˜¯ç”¨äºç”Ÿæˆç›®å½•ç»“æ„çš„éƒ¨åˆ†ã€‚å®ƒéå†docsjson['book']['toc']ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æ ¹æ®æ¡ä»¶åˆ¤æ–­ç”Ÿæˆç›¸åº”çš„ç›®å½•é¡¹ã€‚
    for doc in docsjson['book']['toc']:
        # æ–‡ä»¶å¤¹
        if (doc['type'] == 'TITLE' or doc['child_uuid'] != ''):
            # å¦‚æœdoc['type']ç­‰äº'TITLE'æˆ–è€…doc['child_uuid']ä¸ä¸ºç©º
            filename = ''
            # 2. å°†doc['title']å’Œdoc['parent_uuid']å­˜å‚¨åˆ°dict[doc['uuid']]å­—å…¸ä¸­ï¼Œé”®ä¸º'0'å’Œ'1'ã€‚
            # 3. å°†doc['uuid']ä½œä¸ºé”®ï¼Œåˆå§‹åŒ–temp[doc['uuid']]ä¸ºç©ºå­—ç¬¦ä¸²ã€‚
            dict[doc['uuid']] = {'0': doc['title'], '1': doc['parent_uuid']}  # æ­¤dictéå½¼dict
            uuid = doc['uuid']  # é”®åŠå½“å‰id
            temp[doc['uuid']] = ''  # åˆå§‹åŒ–temp[doc['uuid']]ä¸ºç©ºå­—ç¬¦ä¸²  //æ–‡ä»¶å¤¹è·¯å¾„
            while True:
                if (dict[uuid]['1'] != ''):
                    # åœ¨å¾ªç¯ä¸­ï¼Œå¦‚æœdict[uuid]['1']ä¸ä¸ºç©ºåŠdoc['parent_uuid']ï¼Œå°†æ‰§è¡Œä»¥ä¸‹æ“ä½œ
                    if temp[doc['uuid']] == '':
                        # å¦‚æœtemp[doc['uuid']]ä¸ºç©ºï¼Œå°†doc['title']ç»è¿‡å­—ç¬¦æ˜ å°„è¡¨tableçš„æ›¿æ¢åèµ‹å€¼ç»™temp[doc['uuid']]ã€‚
                        temp[doc['uuid']] = doc['title'].translate(table)
                    else:
                        temp[doc['uuid']] = dict[uuid]['0'].translate(table) + '/' + temp[doc['uuid']]
                    uuid = dict[uuid]['1']  # å°†dict[uuid]['1']åŠå½“å‰çˆ¶idèµ‹å€¼ç»™å½“å‰idï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯
                else:
                    # doc['parent_uuid']ä¸ºç©ºè¡¨ç¤ºæ˜¯çˆ¶ç›®å½•
                    temp[doc['uuid']] = dict[uuid]['0'].translate(table) + '/' + temp[doc['uuid']]
                    break
            # åˆ›å»ºæ–‡ä»¶å¤¹
            if ((os.path.exists("download/" + str(docsjson['book']['id']) + '/' + temp[doc['uuid']])) == False):
                os.makedirs("download/" + str(docsjson['book']['id']) + '/' + temp[doc['uuid']])

            # åˆ›å»ºç›®å½•  
            """
                å¦‚æœtemp[doc['uuid']]å­—ç¬¦ä¸²ä»¥æ–œæ å­—ç¬¦"/"ç»“å°¾ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•é¡¹æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚åœ¨Markdownæ ¼å¼ä¸­ï¼Œä½¿ç”¨##ä½œä¸ºæ–‡ä»¶å¤¹çš„æ ‡é¢˜ï¼Œæ‰€ä»¥ä»£ç ä¼šå°†"## "å’Œå»é™¤æœ€åä¸€ä¸ªå­—ç¬¦åçš„temp[doc['uuid']]å­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼Œå¹¶æ·»åŠ åˆ°mdå­—ç¬¦ä¸²ä¸­ã€‚

                å¦‚æœtemp[doc['uuid']]å­—ç¬¦ä¸²ä¸ä»¥æ–œæ å­—ç¬¦"/"ç»“å°¾ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•é¡¹æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚åœ¨Markdownæ ¼å¼ä¸­ï¼Œä½¿ç”¨*ä½œä¸ºæ–‡ä»¶çš„åˆ—è¡¨é¡¹ï¼Œæ‰€ä»¥ä»£ç ä¼šæ ¹æ®æ–œæ å­—ç¬¦çš„æ•°é‡æ¥ç¡®å®šæ–‡ä»¶çš„ç¼©è¿›çº§åˆ«ï¼Œç„¶åå°†"* "å’Œå»é™¤è·¯å¾„éƒ¨åˆ†åçš„temp[doc['uuid']]å­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼Œå¹¶æ·»åŠ åˆ°mdå­—ç¬¦ä¸²ä¸­ã€‚

                è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯æ ¹æ®ç›®å½•é¡¹çš„ç±»å‹ï¼ˆæ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ï¼‰å’Œå±‚çº§å…³ç³»ï¼Œç”Ÿæˆç›¸åº”çš„Markdownæ ¼å¼çš„ç›®å½•é¡¹ã€‚
            """
            if (temp[doc['uuid']].endswith("/")):  # æ˜¯æ ¹æ–‡ä»¶å¤¹
                """
                ç”¨äºæ£€æŸ¥temp[doc['uuid']]å­—ç¬¦ä¸²æ˜¯å¦ä»¥æ–œæ å­—ç¬¦"/"ç»“å°¾ã€‚
                endswith()æ˜¯å­—ç¬¦ä¸²çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼ã€‚
                """
                md += "## " + temp[doc['uuid']][:-1] + "\n"
            else:  # ä¸æ˜¯æ ¹æ–‡ä»¶å¤¹, é€šè¿‡\åˆ¤æ–­æ˜¯å‡ çº§çš„
                """
                å…·ä½“æ¥è¯´ï¼Œä»£ç ä½¿ç”¨temp[doc['uuid']].count("/") - 1è®¡ç®—æ–œæ å­—ç¬¦çš„æ•°é‡å‡å»1ï¼Œ
                ç„¶åä½¿ç”¨" " * (temp[doc['uuid']].count("/") - 1)ç”Ÿæˆå¯¹åº”æ•°é‡çš„ç©ºæ ¼ä½œä¸ºç¼©è¿›ã€‚
                æ¥ç€ï¼Œä½¿ç”¨temp[doc['uuid']][temp[doc['uuid']].rfind("/") + 1:]è·å–
                æœ€åä¸€ä¸ªæ–œæ å­—ç¬¦åé¢çš„éƒ¨åˆ†ä½œä¸ºç›®å½•é¡¹çš„æ ‡é¢˜ã€‚æœ€åï¼Œå°†ç¼©è¿›å’Œæ ‡é¢˜æ‹¼æ¥èµ·æ¥ï¼Œå¹¶æ·»åŠ åˆ°mdå­—ç¬¦ä¸²ä¸­ã€‚
                """
                md += "  " * (temp[doc['uuid']].count("/") - 1) + "* " + temp[doc['uuid']][
                                                                         temp[doc['uuid']].rfind("/") + 1:] + "\n"
        # .md                                                                
        if (doc['url'] != ''):
            # è¡¨ç¤ºæ˜¯ä¸€ä¸ªmdæ–‡ä»¶
            if doc['parent_uuid'] != "":
                if (temp[doc['parent_uuid']].endswith("/")):  # ä»¥/ç»“å°¾è¡¨ç¤ºæ˜¯æ ¹æ–‡ä»¶å¤¹
                    md += " " * temp[doc['parent_uuid']].count("/") + "* [" + doc['title'] + "](" + urllib.parse.quote(
                        temp[doc['parent_uuid']] + "/" + doc['title'].translate(table) + '.md') + ")" + "\n"
                else:
                    md += "  " * temp[doc['parent_uuid']].count("/") + "* [" + doc['title'] + "](" + urllib.parse.quote(
                        temp[doc['parent_uuid']] + "/" + doc['title'].translate(table) + '.md') + ")" + "\n"  # è¿›è¡Œurl ç¼–ç 
                # ä¿å­˜ ä¼ å…¥ sulg å’Œ book_id
                save_page(doc['url'], str(docsjson['book']['id']),
                          "download/" + str(docsjson['book']['id']) + '/' + temp[doc['parent_uuid']] + "/" + doc[
                              'title'].translate(table) + '.md')
            else:
                md += " " + "* [" + doc['title'] + "](" + urllib.parse.quote(
                    doc['title'].translate(table) + '.md') + ")" + "\n"
                # ä¿å­˜    
                save_page(doc['url'], str(docsjson['book']['id']),
                          "download/" + str(docsjson['book']['id']) + "/" + doc[
                              'title'].translate(table) + '.md')
    # æŠŠä¸Šè¿°å¾—åˆ°çš„ç›®å½•ç”Ÿæˆä¸€ä¸ªæ‘˜è¦                       
    f = open("download/" + str(docsjson['book']['id']) + '/' + "/SUMMARY.md", 'w', encoding='utf-8')
    f.write(md)
    f.close()


if __name__ == '__main__':
    # if len(sys.argv) > 1:
    #     get_book(sys.argv[1])
    # else:
    #     get_book()
    dict = ["https://www.yuque.com/xiaoyulive/frontend/echarts", "https://www.yuque.com/xiaoyulive/vscode",
            "https://www.yuque.com/xiaoyulive/uniapp/bfn5o2", "https://www.yuque.com/xiaoyulive/cicd/gr55wu",
            "https://www.yuque.com/xiaoyulive/kubernetes/xui5av", "https://www.yuque.com/xiaoyulive/docker/qlh70b",
            "https://www.yuque.com/xiaoyulive/flutter/twcg6y", "https://www.yuque.com/xiaoyulive/typescript/euxhdb"
        , "https://www.yuque.com/xiaoyulive/dart/lbk8fr", "https://www.yuque.com/xiaoyulive/flutter",
            "https://www.yuque.com/xiaoyulive/linux/uuhcbp#sed"]
    for url in dict:
        get_book(url)

```

![image-20231115233054291](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231115233054291.png)



![image-20231116104218223](%E7%88%AC%E5%8F%96%E8%AF%AD%E9%9B%80.assets/image-20231116104218223.png)





```java
import json
import os
import re
import urllib.parse
import urllib.parse

import requests


def save_page(sulg, book_id, file_path):
    '''
    å®šä¹‰äº†ä¸€ä¸ªåä¸ºsave_pageçš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼šbook_idã€sulgå’Œpathã€‚
    è¿™ä¸ªå‡½æ•°ä½¿ç”¨requestsåº“å‘é€GETè¯·æ±‚ï¼Œä¸‹è½½æŒ‡å®šURLçš„æ–‡æ¡£å†…å®¹ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚
    '''
    url = 'https://www.yuque.com/api/docs/' + sulg + '?book_id=' + book_id + '&merge_dynamic_data=false&mode=markdown'
    docsdata = requests.get(url)
    if (docsdata.status_code != 200):
        print("æ–‡æ¡£ä¸‹è½½å¤±è´¥ é¡µé¢å¯èƒ½è¢«åˆ é™¤ ", book_id, sulg, docsdata.content)
        return

    docsjson = json.loads(docsdata.content)
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(docsjson['data']['sourcecode'])


# å°†ç”Ÿæˆç›®å½•ç»“æ„çš„é€»è¾‘å°è£…åœ¨ä¸€ä¸ªåä¸ºgenerate_directory_structureçš„å‡½æ•°
def generate_directory_structure(docsjson):
    md = ""
    dict = {}
    temp = {}  # è·¯å¾„
    table = str.maketrans('\\/:*?"<>|', '_________')  # windowsæ“ä½œç³»ç»Ÿä¸­è§„å®šæ–‡ä»¶åä¸­ä¸èƒ½å«æœ‰çš„ç¬¦å·æ˜¯, å‡ºç°äº†ç”¨_________æ›¿æ¢

    def generate_md_link(title, url):
        return f"* [{title}]({urllib.parse.quote(url)})\n"

    def generate_md_folder(title):
        return f"## {title}\n"

    def generate_md_file(title, indent_level):
        return f"{'  ' * indent_level}* {title}\n"

    for doc in docsjson['book']['toc']:
        if doc['type'] == 'TITLE' or doc['child_uuid'] != '':
            filename = ''
            dict[doc['uuid']] = {'0': doc['title'], '1': doc['parent_uuid']}
            uuid = doc['uuid']
            temp[doc['uuid']] = ''
            while True:
                if dict[uuid]['1'] != '':
                    if temp[doc['uuid']] == '':
                        temp[doc['uuid']] = doc['title'].translate(table)
                    else:
                        temp[doc['uuid']] = dict[uuid]['0'].translate(table) + '/' + temp[doc['uuid']]
                    uuid = dict[uuid]['1']
                else:
                    temp[doc['uuid']] = dict[uuid]['0'].translate(table) + '/' + temp[doc['uuid']]
                    break

            folder_path = os.path.join("download", str(docsjson['book']['id']), temp[doc['uuid']])
            if not os.path.exists(folder_path):
                os.makedirs(folder_path)

            if doc['url'] != '':
                if doc['parent_uuid'] != '':
                    parent_folder_path = temp[doc['parent_uuid']]
                    if parent_folder_path.endswith("/"):
                        md += " " * parent_folder_path.count("/") + generate_md_link(doc['title'],
                                                                                     os.path.join(parent_folder_path,
                                                                                                  doc[
                                                                                                      'title'].translate(
                                                                                                      table) + '.md'))
                    else:
                        md += "  " * parent_folder_path.count("/") + generate_md_link(doc['title'],
                                                                                      os.path.join(parent_folder_path,
                                                                                                   doc[
                                                                                                       'title'].translate(
                                                                                                       table) + '.md'))
                    save_page(doc['url'], str(docsjson['book']['id']),
                              os.path.join(folder_path, doc['title'].translate(table) + '.md'))
                else:
                    md += " " + generate_md_link(doc['title'], doc['title'].translate(table) + '.md')
                    save_page(doc['url'], str(docsjson['book']['id']),
                              os.path.join(folder_path, doc['title'].translate(table) + '.md'))

    summary_file_path = os.path.join("download", str(docsjson['book']['id']), "SUMMARY.md")
    with open(summary_file_path, 'w', encoding='utf-8') as f:
        f.write(md)


def get_book(url="https://www.yuque.com/aceld/mo95lb/frv2c9"):
    docs_data = requests.get(url)
    """
    ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼decodeURIComponent\(\"(.+)\"\)\);æ¥åŒ¹é…æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å­—ç¬¦ä¸²ï¼š
        - ä»¥decodeURIComponent("å¼€å¤´
        - ä»¥");ç»“å°¾
        - ä¸­é—´åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼ˆä½¿ç”¨(.+)è¡¨ç¤ºï¼‰
    """
    data = re.findall(r"decodeURIComponent\(\"(.+)\"\)\);", docs_data.content.decode('utf-8'))
    docs_json = json.loads(urllib.parse.unquote(data[0]))  # è¿›è¡ŒURLè§£ç , å†å°†jsonè½¬åŒ–æˆå­—å…¸

    generate_directory_structure(docs_json)


if __name__ == '__main__':
    get_book('https://www.yuque.com/yuque/developer/api')
```

